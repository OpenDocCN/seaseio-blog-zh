<html>
<head>
<title>Elasticsearch Disk Space Issue and Rollover Solution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">弹性搜索磁盘空间问题和翻转解决方案</h1>
<blockquote>原文：<a href="https://web.archive.org/web/sease.io/2022/06/elasticsearch-disk-space-issue-and-rollover-solution.html#0001-01-01">https://web.archive.org/web/sease.io/2022/06/elasticsearch-disk-space-issue-and-rollover-solution.html#0001-01-01</a></blockquote>
									<section class="elementor-section elementor-top-section elementor-element elementor-element-b682584 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b682584" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fa09924 ot-flex-column-vertical" data-id="fa09924" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-cdebf1f elementor-widget elementor-widget-text-editor" data-id="cdebf1f" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">嗨读者们！</p>
<p class="translated">这篇博客想帮助那些在Elasticsearch中遇到索引编写器磁盘空间问题的人。</p>
<p class="translated">让我们从第一个观察开始，<strong>我们所指的索引编写器磁盘空间问题是什么？</strong></p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph -->T32】</p>
<p class="translated">当处理大量数据时，出现与磁盘相关的错误并不罕见。如果索引的文档太多，磁盘空间会饱和，导致<strong> BulkIndexError </strong>。这是我们将获得的日志消息:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-a0fcb3a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="a0fcb3a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a075fee ot-flex-column-vertical" data-id="a075fee" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-1fc8c63 elementor-widget elementor-widget-text-editor" data-id="1fc8c63" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size: 16px;"><code>[ERROR] BulkIndexError: ('500 document(s) failed to index.', [{'index': {'_index': 
'your_index_name', '_type': '_doc', '_id': 'vAAt1H8BpDNDRA5qgPEv', 'status': 403, 'error': 
{'type': 'cluster_block_exception', 'reason': 'index [your_index_name] blocked by: 
[FORBIDDEN/8/index write (api)];’}</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-2320281 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="2320281" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-9dd8b7e ot-flex-column-vertical" data-id="9dd8b7e" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-0419517 elementor-widget elementor-widget-text-editor" data-id="0419517" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">这个错误告诉我们什么？ <br/>错误报告写操作被阻止，因此无法在<em> your_index_name </em>索引中索引新文档。当磁盘空间消耗达到总磁盘大小的80%时，Elasticsearch会自动设置该块。</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph -->T43】</p>
<p class="translated">您可以通过GET settings API检查当前的索引块状态:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-d8ec89a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="d8ec89a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-0ae95f1 ot-flex-column-vertical" data-id="0ae95f1" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-6196396 elementor-widget elementor-widget-text-editor" data-id="6196396" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size:16px"><code>GET https://localhost:9200/your_index_name/_settings</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-025758a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="025758a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-dc597ce ot-flex-column-vertical" data-id="dc597ce" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-55be5b1 elementor-widget elementor-widget-text-editor" data-id="55be5b1" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">下面是在获得的响应中要查看的参数:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-6d969e5 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="6d969e5" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-8d84b8c ot-flex-column-vertical" data-id="8d84b8c" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-f865603 elementor-widget elementor-widget-text-editor" data-id="f865603" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size: 16px;"><code>{
    "your_index_name": {
        "settings": {
            "index": {
                ...
                <strong>"blocks": {
                    "write": "true"
                },</strong>
                "number_of_shards": "2",
                "provided_name": "your_index_name",
                "creation_date": "1650529887595",
                "number_of_replicas": "1",
                "uuid": "2FPWsd-LMHyQSwXaM523GA",
                "version": {
                    "created": "7100299"
                }
            }
        }
    }
}</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-1ace78e ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="1ace78e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-26b0766 ot-flex-column-vertical" data-id="26b0766" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c1d763f elementor-widget elementor-widget-text-editor" data-id="c1d763f" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">这篇博文的目的是回答这两个问题:</p>
<p class="translated"><!-- wp:paragraph -->T45<!-- wp:list {"ordered":true} -->T47】</p>
<ol>
<li style="list-style-type: none;">
 
<ol>
<li class="translated"><strong> <em>这个问题出现时怎么解决？</em>T51】</strong></li>
<li class="translated"><strong> <em>如何防止问题再次发生？</em>T55】</strong></li>
</ol>
</li>
</ol>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-cc1a037 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="cc1a037" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a92af61 ot-flex-column-vertical" data-id="a92af61" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-5139f43 elementor-widget elementor-widget-iheading" data-id="5139f43" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">临时解决方案</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-3e4b3f0 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3e4b3f0" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6383ef1 ot-flex-column-vertical" data-id="6383ef1" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-6091d87 elementor-widget elementor-widget-text-editor" data-id="6091d87" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">这是释放磁盘空间和删除索引块的临时解决方案。</p>
<p class="translated">这里我们想描述一种方法，它将帮助您删除无用的文档，以便释放部分磁盘空间，并避免索引块设置。</p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated">首先，我们通过这个请求手动删除索引块:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-cda8ca4 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="cda8ca4" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d9a1589 ot-flex-column-vertical" data-id="d9a1589" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-0030bc4 elementor-widget elementor-widget-text-editor" data-id="0030bc4" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size:16px"><code>PUT /[_all|&lt;your_index_name&gt;]/_settings
{
  <strong>"index.blocks.write": null</strong>
}</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-afa958d ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="afa958d" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-06c502e ot-flex-column-vertical" data-id="06c502e" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-5f40e3e elementor-widget elementor-widget-text-editor" data-id="5f40e3e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">这是必要的，因为删除也是一个写操作。</p>
<p class="translated">此时，我们可以删除一些文档。<strong>小心，从少量开始，因为该操作会暂时增加磁盘消耗</strong>(直到段合并发生，被删除文档的空闲空间被占用)。</p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated">删除后，我们可以通过以下方式检查当前的磁盘使用情况:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-89a7154 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="89a7154" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-ddde5f3 ot-flex-column-vertical" data-id="ddde5f3" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-1d30369 elementor-widget elementor-widget-text-editor" data-id="1d30369" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size:16px"><code>GET https://localhost:9200/_cat/allocation?v&amp;pretty</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-3bc26e9 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3bc26e9" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-9c7793a ot-flex-column-vertical" data-id="9c7793a" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-6b6c659 elementor-widget elementor-widget-text-editor" data-id="6b6c659" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">以下是获得的响应:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-398ddf2 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="398ddf2" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-23eca2f ot-flex-column-vertical" data-id="23eca2f" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-07b8463 elementor-widget elementor-widget-text-editor" data-id="07b8463" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<figure style="font-size: 16px;">
<table>
<tbody>
<tr>
<td class="translated"><code>shards</code></td>
<td class="translated"><code>disk.indices</code></td>
<td class="translated"><code>disk.used</code></td>
<td class="translated"><code>disk.avail</code></td>
<td class="translated"><code>disk.total</code></td>
<td class="translated"><code>disk.percent</code></td>
<td class="translated"><code>host</code></td>
<td class="translated"><code>ip</code></td>
<td class="translated"><code>nod</code> e</td>
</tr>
<tr>
<td class="translated"><code>72</code></td>
<td class="translated"><code>11.9gb</code></td>
<td class="translated"><code>17gb</code></td>
<td class="translated"><code>81.2gb</code></td>
<td class="translated"><code>98.3gb</code></td>
<td class="translated"><code>17</code></td>
<td class="translated"><code>x.x..</code></td>
<td class="translated"><code>x.x.<code>.</code> </code></td>
<td class="translated"><code>645784hwe...</code></td>
</tr>
<tr>
<td class="translated"><code>72</code></td>
<td class="translated"><code>11.9gb</code></td>
<td class="translated"><code>17gb</code></td>
<td class="translated"><code>81.2gb</code></td>
<td class="translated"><code>98.3gb</code></td>
<td class="translated"><code>17</code></td>
<td class="translated"><code>x.x.<code>.</code> </code></td>
<td class="translated"><code>x.x.<code>.</code> </code></td>
<td class="translated"><code>374562gfi...</code></td>
</tr>
</tbody>
</table>
</figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-fe85850 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="fe85850" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-91bf6bb ot-flex-column-vertical" data-id="91bf6bb" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c91c434 elementor-widget elementor-widget-text-editor" data-id="c91c434" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">如果我们仍然需要空闲空间，我们可以重复这个过程。<br/>如果擦除导致磁盘消耗超过80%,则需要再次解除锁定。</p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated">我们称之为“临时解决方案”,因为它帮助我们释放磁盘并删除索引块，但是<strong>它不能避免错误在特性中再次出现。</strong> <br/>为了做到这一点，我们建议自动管理索引。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-a4f93d4 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="a4f93d4" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a58e7a5 ot-flex-column-vertical" data-id="a58e7a5" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-bc4b397 elementor-widget elementor-widget-iheading" data-id="bc4b397" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">索引生命周期-滚动解决方案</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-d3603f8 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="d3603f8" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-1e151fe ot-flex-column-vertical" data-id="1e151fe" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-2ac56fc elementor-widget elementor-widget-text-editor" data-id="2ac56fc" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">来自Elasticsearch文档:<br/> <em>“指数生命周期管理(ILM)</em><a href="https://web.archive.org/web/20221202235827/https://www.elastic.co/guide/en/cloud/current/ec-configure-index-management.html">【1】</a><em>Elastic Stack的功能提供了一种集成和简化的方法来管理基于时间的数据，从而更容易遵循管理指数的最佳实践。与索引监管相比，迁移到ILM可以让您对每个索引的生命周期进行更精细的控制。”</em></p>
<p class="translated"><em>“您可以配置索引生命周期管理(ILM)</em><a href="https://web.archive.org/web/20221202235827/https://www.elastic.co/guide/en/elasticsearch/reference/current/index-lifecycle-management.html">【2】</a><em>策略，根据您的性能、弹性和保留要求自动管理索引。例如，你可以用ILM来:</em></p>
<ul>
<li style="list-style-type: none;">
 
<ul>
<li class="translated">S <em>当一个索引达到一定的大小或文档数量时，钉上一个新的索引</em></li>
<li class="translated"><em>每天、每周或每月创建一个新的索引，并存档以前的索引</em></li>
<li class="translated"><em>删除过时的索引以实施数据保留标准</em></li>
</ul>
</li>
</ul>
<p class="translated"><em>您可以通过Kibana Management或ILM API创建和管理索引生命周期策略。”</em></p>
<p class="translated">这正是我们避免磁盘问题所需要的。当一个索引达到一定的大小时，我们希望建立一个新的索引(I)并删除旧的索引(II)。</p>
<p class="translated">第一个要求(I)可以通过<strong>翻转策略</strong>实现，即:<em>“当现有指标满足一个或多个翻转条件时，将目标翻转到新指标”</em><a href="https://web.archive.org/web/20221202235827/https://www.elastic.co/guide/en/elasticsearch/reference/current/ilm-rollover.html">【3】</a>；而第二个要求(II)可以通过策略的<strong>定义</strong>来完成。在策略中，我们可以定义状态、动作和转换。<br/>与该策略相关联的索引从默认状态开始，处理该状态下的动作，并评估转换条件。如果条件为真，索引将传递到新状态，将再次执行动作和转换。</p>
<p class="translated">来自Elasticsearch文档:<em>“一个指数的生命周期政策规定了哪些阶段是适用的，在每个阶段执行什么动作，以及何时在阶段之间转换”</em><a href="https://web.archive.org/web/20221202235827/https://www.elastic.co/guide/en/elasticsearch/reference/current/ilm-index-lifecycle.html">【4】</a>。</p>
<p class="translated">让我们一起来看看创建一个自动化索引翻转和删除的策略的所有必要步骤。对于我们的例子，我们使用的是由Amazon管理的Elasticsearch 7.10版本，它包含了开放的发行版插件。<br/>我们利用<strong> Kibana </strong>工具来完成其中的一些步骤。</p>
<h6 class="translated"><br/>1–创建用于滚动更新的索引模板</h6>
<p class="translated">该模板是用于翻转的模板。这定义了新创建的索引将具有的设置。</p>
<ul>
<li style="list-style-type: none;">
 
<ul>
<li class="translated">在<em> index_patterns </em>中，我们定义了新索引的名称。在这种情况下，它从<em> index_name- </em>开始，然后是一个递增的数字。</li>
<li class="translated"><em>index . open distro . index _ state _ management . rollover _ alias</em>是翻转别名的名称。这与当前活动索引(用于索引新文档的索引)相关联，并将在翻转完成后移动到新索引。</li>
</ul>
</li>
</ul>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list --><!-- /wp:list --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:heading {"level":4} --><!-- /wp:heading --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list --><!-- /wp:list --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">下面是创建<strong>索引模板</strong>的请求:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-00d86de ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="00d86de" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-4849800 ot-flex-column-vertical" data-id="4849800" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-2dde1cc elementor-widget elementor-widget-text-editor" data-id="2dde1cc" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size: 16px;"><code>PUT /_index_template/template-name
{
  "index_patterns": ["index_name-*"],
  "template": {
   "settings": {
    "index.opendistro.index_state_management.rollover_alias": "rollover-alias-name"
   }
 }
}</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-0e5ce7f ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="0e5ce7f" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-7875e39 ot-flex-column-vertical" data-id="7875e39" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-b9f2979 elementor-widget elementor-widget-text-editor" data-id="b9f2979" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><strong>注意</strong>如果你还没有打开发行版，这些是等价的索引设置:<br data-rich-text-line-break="true"/><strong>elastic search</strong>:index . life cycle . rollover _ alias<br data-rich-text-line-break="true"/><strong>Open search</strong>:index . plugins . index _ state _ management . rollover _ alias</p>
<h6 class="translated"><br/>2–创建策略</h6>
<p class="translated"><!-- wp:heading {"level":4} --></p>
<p class="translated"><!-- /wp:heading -->T51】</p>
<p class="translated">第二步是<strong>策略定义</strong>。<br/>您可以在Kibana中添加此内容，方法是进入:</p>
<p class="translated"><!-- /wp:paragraph -->T56】</p>
<p class="translated">Kibana →索引管理→状态管理策略→创建</p>
<p class="translated"><!-- /wp:paragraph --> <!-- wp:paragraph --></p>
<p class="translated">此时，需要一个策略ID和策略定义。</p>
<p class="translated"><!-- /wp:paragraph --> <!-- wp:paragraph --></p>
<p class="translated">这里有一个例子:</p>
<p class="translated"><!-- /wp:paragraph --></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-6040e33 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="6040e33" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6947bde ot-flex-column-vertical" data-id="6947bde" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-4d4bce8 elementor-widget elementor-widget-text-editor" data-id="4d4bce8" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size: 16px;"><code>{
    "policy_id": "<strong>rollover_policy</strong>",
    "description": "Rollover policy for index_name-* indexes.",
    "last_updated_time": 1650529799079,
    "schema_version": 1,
    "error_notification": null,
    "default_state": "<strong>hot_state</strong>",
    "states": [
        {
            "name": "<strong>hot_state</strong>",
            "actions": [
                {
                    "rollover": {
                        "min_doc_count": 100
                    }
                }
            ],
            "transitions": [
                {
                    "state_name": "warm_state"
                }
            ]
        },
        {
            "name": "<strong>warm_state</strong>",
            "actions": [],
            "transitions": [
                {
                    "state_name": "delete_state",
                    "conditions": {
                        "min_index_age": "60d"
                    }
                }
            ]
        },
        {
            "name": "<strong>delete_state</strong>",
            "actions": [
                {
                    "delete": {}
                }
            ],
            "transitions": []
        }
    ],
    "ism_template": [
        {
            "<strong>index_patterns</strong>": [
                "index_name-*"
            ],
            "priority": 0,
            "last_updated_time": 1650470897111
        }
    ]
}</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-a88e169 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="a88e169" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c0f7088 ot-flex-column-vertical" data-id="c0f7088" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-ccc8054 elementor-widget elementor-widget-text-editor" data-id="ccc8054" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">该策略有三种状态:<em>热状态</em>、<em>热状态</em>和<em>删除状态</em>。<br/>每个新索引从默认<em>状态</em>开始，即<em>热状态</em>。<br/>在<em> hot_state </em>内部，定义了翻转动作。当满足<em> min_doc_count </em>条件时执行:当索引包含超过100个文档时。<br/>在<em> hot_state </em>中的所有动作完成后，对转换进行评估。在第一个<em>热状态</em>中，我们自动决定转到<em>热状态</em>。<br/>此时，新创建的索引(在<em> hot_state </em>中)是将插入新文档的索引，而之前的索引(在<em> warm_state </em>中)评估其新分配状态的动作和转换。<br/>在<em> warm_state </em>中没有定义动作，因此我们直接进入转换。这里，当达到<em>最小索引年龄</em>时，也就是从索引创建起经过了60天时，我们转到<em>删除状态</em>。<br/>一旦进入<em>删除_状态</em>，索引被删除。<br/>在<em> ism_template </em>中，我们定义了索引名称模式，用于识别自动应用策略的索引；因此，该策略将被附加到从<em> index_name-* </em>开始的每个新创建的索引。</p>
<h6 class="translated"><br/>3–创建索引(或重新索引现有的索引)</h6>
<p class="translated">我们现在可以创建第一个索引。为了自动将策略附加到该索引，其名称必须与策略的<em> ism_template </em>部分中定义的索引模式相匹配。<br/>一般来说，为了应用翻转，索引应该具有以下名称模式:</p>
<p class="has-text-align-center translated">。*-\d+$。</p>
<p class="translated">我们可以看到名字以<em> -some_digits </em>结尾很重要。这是因为，在每次翻转时，新(自动)创建的索引将与前一个索引同名，数字部分增加1。</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:heading {"level":4} --><!-- /wp:heading --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph {"align":"center"} --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">下面是一个索引创建的示例:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-153d20b ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="153d20b" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-4c07ba2 ot-flex-column-vertical" data-id="4c07ba2" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-94381f9 elementor-widget elementor-widget-text-editor" data-id="94381f9" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size:16px"><code>PUT /index_name-000001</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-60993fc ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="60993fc" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-9d5d8ce ot-flex-column-vertical" data-id="9d5d8ce" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-038febf elementor-widget elementor-widget-text-editor" data-id="038febf" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h6 class="translated">4–创建别名</h6>
<h6 class="translated"><!-- wp:heading {"level":4} -->T62<!-- wp:paragraph -->T64】</h6>
<p class="translated">我们现在可以将别名与新索引关联起来。<br/>这在翻转阶段使用，因此<strong>别名必须与索引模板(rollover_alias) </strong>中的别名相同。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-cec3f74 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="cec3f74" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-bf3fd40 ot-flex-column-vertical" data-id="bf3fd40" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-0c6e94f elementor-widget elementor-widget-text-editor" data-id="0c6e94f" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size:16px"><code>POST /_aliases
{
    "actions" : [
        { "add" : { "index" : "index_name-000001", <strong>"alias" : "rollover-alias-name"</strong> } }
    ]
}</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-dd2bccb ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="dd2bccb" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6598ed3 ot-flex-column-vertical" data-id="6598ed3" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-1cc1ed4 elementor-widget elementor-widget-text-editor" data-id="1cc1ed4" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">创建索引时，也可以使用请求正文中的相关参数来指定别名:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-c2731e2 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="c2731e2" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-80f33d4 ot-flex-column-vertical" data-id="80f33d4" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c5ccb70 elementor-widget elementor-widget-text-editor" data-id="c5ccb70" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="font-size:16px"><code>PUT /index-name-000001
{
  "settings": {
	...
  },
<strong>  "aliases": {
    "rollover-alias-name": {}
  },</strong>
  "mappings": {
    ...
   }
}</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-e029aef ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="e029aef" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-82c0b69 ot-flex-column-vertical" data-id="82c0b69" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-368216a elementor-widget elementor-widget-text-editor" data-id="368216a" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h6 class="translated">5–将策略附加到索引(如有必要)</h6>
<p class="translated">最后一步，我们需要将策略附加到新创建的索引上。<br/>如果策略是在索引之前创建的，这将自动完成，否则，我们需要手动附加策略。<br/>此外，该步骤可以通过索引管理部分在Kibana中完成:</p>
<p class="translated"><!-- wp:heading {"level":4} -->T3<!-- wp:paragraph -->T5<!-- wp:paragraph -->T7】</p>
<p class="translated">Kibana →索引管理→索引→从列表中选择索引→应用策略→从列表中选择策略</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-26eff7c ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="26eff7c" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-8a57995 ot-flex-column-vertical" data-id="8a57995" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-5dbffc9 elementor-widget elementor-widget-iheading" data-id="5dbffc9" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">摘要</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-1235ea4 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="1235ea4" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-f26b848 ot-flex-column-vertical" data-id="f26b848" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-3b68c1b elementor-widget elementor-widget-text-editor" data-id="3b68c1b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在这篇博文中，我们已经看到了什么是<strong>索引编写器磁盘问题</strong>以及如何解决它。</p>
<p class="translated">我们提出两种解决方案:</p>
<ol>
<li style="list-style-type: none;">
 
<ol>
<li class="translated"><strong>临时解决方案:</strong>这里我们解释如何通过手动移除索引块来删除无用的文档，从而释放空间。这种解决方案不能避免错误再次出现。</li>
<li class="translated"><strong>索引管理解决方案(带翻转):</strong>这里我们说明如何自动管理索引以避免错误再次出现。我们定义了一个管理一组索引(由索引名模式定义)的策略，以便在它们达到一定大小时进行翻转。该策略还将删除旧的索引以释放空间。</li>
</ol>
</li>
</ol>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list {"ordered":true} --><!-- /wp:list --><!-- wp:paragraph -->T21】</p>
<p class="translated">感谢阅读，下一篇博文再见！</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-1efa32ee ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="1efa32ee" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-156a91fd ot-flex-column-vertical" data-id="156a91fd" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-6bcf066c elementor-widget elementor-widget-iheading" data-id="6bcf066c" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// our service</span>
	        <h2 class="main-heading translated">不要脸的塞给我们培训和服务！</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-7c162206 elementor-widget elementor-widget-text-editor" data-id="7c162206" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">我有没有提到我们同时为<a href="https://web.archive.org/web/20221202235827/https://sease.io/training/elasticsearch-trainings"> Elasticsearch初学者</a>和<a href="https://web.archive.org/web/20221202235827/https://sease.io/training/apache-solr-training"> Apache Solr初学者</a>提供培训？我们也提供关于这些主题的咨询，如果你想让你的搜索引擎更上一层楼，请联系我们。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-54a4a673 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="54a4a673" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-4a94388a ot-flex-column-vertical" data-id="4a94388a" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-4dcc3665 elementor-widget elementor-widget-iheading" data-id="4dcc3665" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// STAY ALWAYS UP TO DATE</span>
	        <h2 class="main-heading translated">订阅我们的时事通讯</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-5b9d77cb elementor-widget elementor-widget-text-editor" data-id="5b9d77cb" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">你喜欢这篇关于Elasticsearch磁盘空间问题和翻转解决方案的文章吗？不要忘记订阅我们的时事通讯，以便随时了解信息检索世界的最新动态！</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-87d308c elementor-widget elementor-widget-wp-widget-mc4wp_form_widget" data-id="87d308c" data-element_type="widget" data-widget_type="wp-widget-mc4wp_form_widget.default">
				<div class="elementor-widget-container">
			<script>(function() {
	window.mc4wp = window.mc4wp || {
		listeners: [],
		forms: {
			on: function(evt, cb) {
				window.mc4wp.listeners.push(
					{
						event   : evt,
						callback: cb
					}
				);
			}
		}
	}
})();
</script><!-- Mailchimp for WordPress v4.8.11 - https://wordpress.org/plugins/mailchimp-for-wp/ --><form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-1343" method="post" data-id="1343" data-name="Sease Mailchimp"><div class="mc4wp-form-fields">
<div class="subscribe-inner-form">
	<input type="email" name="EMAIL" placeholder="Your Email" required=""/>
	<button type="submit" class="subscribe-btn-icon"><i class="flaticon-telegram"/></button>
</div>	

<p class="translated"><label> <input name="AGREE_TO_TERMS" type="checkbox" value="1" required=""/> <a href="https://web.archive.org/web/20221202235827/https://sease.io/privacy-policy" target="_blank">我已经阅读并同意隐私政策</a> </label></p></div><label style="display: none !important;">Leave this field empty if you're human: <input type="text" name="_mc4wp_honeypot" value="" tabindex="-1" autocomplete="off"/></label><input type="hidden" name="_mc4wp_timestamp" value="1670025507"/><input type="hidden" name="_mc4wp_form_id" value="1343"/><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"/><div class="mc4wp-response"/></form><!-- / Mailchimp for WordPress Plugin -->		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
									    
</body>
</html>