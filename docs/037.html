<html>
<head>
<title>Digging in the Solr code: 5 minutes howto</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">深入Solr代码:5分钟指南</h1>
<blockquote>原文：<a href="https://web.archive.org/web/sease.io/2019/12/digging-in-solr-be-ready-in-5-minutes.html#0001-01-01">https://web.archive.org/web/sease.io/2019/12/digging-in-solr-be-ready-in-5-minutes.html#0001-01-01</a></blockquote>
									<section class="elementor-section elementor-top-section elementor-element elementor-element-06e4e0f ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="06e4e0f" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-700204a ot-flex-column-vertical" data-id="700204a" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-d819632 elementor-widget elementor-widget-text-editor" data-id="d819632" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">比方说，您需要编写一个组件、一个请求处理程序，或者一些需要插入Solr的定制代码。或者，你需要对Lucene/Solr的内部有更深的理解，了解代码中实际发生的事情。</p>
<p class="translated">我知道:单元测试、集成测试，一切都是为了确保事情如你所愿；但是这里我说的是不同的东西:在开发时，它(至少对我来说)是一个非常有用的<strong>生产和调试环境</strong>,在这里可以使用短的开发迭代，一步一步地跟踪代码中发生的事情，深入了解事情在幕后是如何工作的。</p>
<p class="translated">根据我的经验，我发现这在一些情况下很有用:</p>
<ul>
<li class="translated"><strong>我必须写一些Solr插件</strong>:在这种情况下，我想有一个开发环境，允许尽可能快地编写和调试代码</li>
<li class="translated"><strong>我必须研究一些Solr内部机制</strong>:比方说，我需要检查当一个字段同时为docValues="true "和stored="true "时，在检索时会发生什么；Solr从哪里获取字段值？</li>
</ul>
<p class="translated">【T6<!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list --><!-- /wp:list --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">让我们看看如何在几分钟内完成这两项任务！</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-87a2f5b ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="87a2f5b" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2dff445 ot-flex-column-vertical" data-id="2dff445" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-e54e85b elementor-widget elementor-widget-iheading" data-id="e54e85b" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">步骤1:克隆我们的模板库</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-db4c0a2 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="db4c0a2" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-daef0a6 ot-flex-column-vertical" data-id="daef0a6" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c0decc2 elementor-widget elementor-widget-text-editor" data-id="c0decc2" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">克隆以下存储库<a href="https://web.archive.org/web/20220930005426/https://github.com/SeaseLtd/solr-addon-project-skeleton">【1】</a></p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --></p>
<p class="translated">一旦导入到您最喜欢的IDE中，项目布局将如下所示:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-aebd9dd ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="aebd9dd" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-1ac624a ot-flex-column-vertical" data-id="1ac624a" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-9211a22 elementor-widget elementor-widget-text-editor" data-id="9211a22" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><img src="../Images/80b8ab72da658ffb6c27e9080ccdf909.png" alt="This image has an empty alt attribute; its file name is template-project-imported-1.png" data-recalc-dims="1" data-original-src="https://web.archive.org/web/20220930005426im_/https://i0.wp.com/sease.io/wp-content/uploads/2019/12/template-project-imported-1.png?ssl=1"/></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-d37a489 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="d37a489" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6af84d6 ot-flex-column-vertical" data-id="6af84d6" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-545d55d elementor-widget elementor-widget-text-editor" data-id="545d55d" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">正如您所看到的，模板项目提供了:</p>
<ul>
<li class="translated"><strong>一个定制的<em>令牌过滤器</em> </strong>，它在文本分析期间简单地打印出标准输出令牌。<strong>注意这只是一个例子</strong>(如果你想调试一个分析器，这很有用):我可以创建一个<em> SearchComponent、</em>一个<em> Tokenizer </em>或者任何我需要的东西。</li>
<li class="translated">一个<strong>样本Solr配置</strong>，配置了最少的东西</li>
<li class="translated">一个<strong>测试超类型层</strong>(<em>base integration Test</em>)和<strong>一个样本测试</strong> ( <em>测试</em>)，它加载一些数据，执行一个查询，然后打印出结果。</li>
</ul>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:list --> <!-- /wp:list --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated"><strong>想不到，就这些！没有第二步了！</strong></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-ee513f0 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="ee513f0" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c9ba8e3 ot-flex-column-vertical" data-id="c9ba8e3" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-366bcd4 elementor-widget elementor-widget-iheading" data-id="366bcd4" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">用例1:实现、调试和测试一个附加组件</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-9e81c0b ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="9e81c0b" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-80b8c90 ot-flex-column-vertical" data-id="80b8c90" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-3baf3c2 elementor-widget elementor-widget-text-editor" data-id="3baf3c2" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">如前所述，在示例存储库中，我们已经有了一个简单的附加组件，它由一个<em>令牌过滤器</em>组成，它在标准输出中打印分析链中产生的每个令牌。过滤器已在Solr配置中声明为“文本”字段类型分析器的一部分:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-4052625 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="4052625" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2f820c9 ot-flex-column-vertical" data-id="2f820c9" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-9e90d08 elementor-widget elementor-widget-text-editor" data-id="9e90d08" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre class="wp-block-preformatted" style="line-height: 1.71429; color: #6d6d6d;">&lt;<strong>fieldType name="text" class="solr.TextField"</strong>&gt;
    &lt;<strong>analyzer</strong>&gt;
        ...
        &lt;<strong>filter class="io.sease.labs.solr.SystemOutTokenFilterFactory"</strong>/&gt;
    &lt;/<strong>analyzer</strong>&gt;
&lt;/<strong>fieldType</strong>&gt;</pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-9384568 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="9384568" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2d174d3 ot-flex-column-vertical" data-id="2d174d3" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-032048d elementor-widget elementor-widget-text-editor" data-id="032048d" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p style="margin-bottom: 20px; color: #6d6d6d;" class="translated">test类触发这个分析器，因为它索引一些文档，所以如果您将它作为一个普通的<em> JUnit </em>测试运行，您将看到下面的输出:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-236d6a9 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="236d6a9" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a4e2cbd ot-flex-column-vertical" data-id="a4e2cbd" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-dd4cc0b elementor-widget elementor-widget-text-editor" data-id="dd4cc0b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre class="wp-block-preformatted" style="font-size: small; line-height: 1.71429; color: #6d6d6d;">startOffset=0,endOffset=6,positionIncrement=1,positionLength=1,type=word =&gt; Object
startOffset=7,endOffset=15,positionIncrement=1,positionLength=1,type=word =&gt; Oriented
startOffset=16,endOffset=24,positionIncrement=1,positionLength=1,type=word =&gt; Software
startOffset=25,endOffset=37,positionIncrement=1,positionLength=1,type=word =&gt; Construction
startOffset=0,endOffset=6,positionIncrement=1,positionLength=1,type=word =&gt; Design
startOffset=7,endOffset=16,positionIncrement=1,positionLength=1,type=word =&gt; Patterns:
startOffset=17,endOffset=25,positionIncrement=1,positionLength=1,type=word =&gt; Elements
startOffset=26,endOffset=28,positionIncrement=1,positionLength=1,type=word =&gt; of
startOffset=29,endOffset=37,positionIncrement=1,positionLength=1,type=word =&gt; Reusable
startOffset=38,endOffset=53,positionIncrement=1,positionLength=1,type=word =&gt; Object-Oriented
startOffset=54,endOffset=62,positionIncrement=1,positionLength=1,type=word =&gt; Software
 
<em>DOC 1 </em>
id = 1
title = Object Oriented Software Construction

<em>DOC 2 </em>
id = 2
title = Design Patterns: Elements of Reusable Object-Oriented Software</pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-dac1501 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="dac1501" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-02c4f13 ot-flex-column-vertical" data-id="02c4f13" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c594383 elementor-widget elementor-widget-text-editor" data-id="c594383" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p style="margin-bottom: 20px; color: #6d6d6d;" class="translated">如果您在令牌过滤器中发现一个断点，并在调试模式下重新运行<em>测试</em>类，调试器将如预期的那样在该行停止:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-85dcfa7 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="85dcfa7" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-49d9dcf ot-flex-column-vertical" data-id="49d9dcf" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-96d9b6b elementor-widget elementor-widget-text-editor" data-id="96d9b6b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><img src="../Images/0e6ea24a32600d1aa39946d1797fb051.png" data-original-src="https://web.archive.org/web/20220930005426im_/https://i2.wp.com/sease.io/wp-content/uploads/2019/12/debug-1.png?fit=712%2C584&amp;ssl=1"/></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-d014bae ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="d014bae" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-b702940 ot-flex-column-vertical" data-id="b702940" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-485f9ed elementor-widget elementor-widget-iheading" data-id="485f9ed" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">用例2:调试Solr内部</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-5bc1115 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="5bc1115" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-ab9e5e3 ot-flex-column-vertical" data-id="ab9e5e3" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-05b712f elementor-widget elementor-widget-text-editor" data-id="05b712f" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在这种情况下，没有定制代码，因为记住，目标是调查一些Solr内部。具体来说，这个例子中我要回答的问题是:假设我们有一个字段</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-5cf5c73 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="5cf5c73" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2160f38 ot-flex-column-vertical" data-id="2160f38" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-a2c70c3 elementor-widget elementor-widget-text-editor" data-id="a2c70c3" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="line-height: 1.71429; color: #6d6d6d;">&lt;<strong>field name="myfield" type="string" docValues="true" stored="true"</strong>/&gt;</pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-c51de71 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="c51de71" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2663a15 ot-flex-column-vertical" data-id="2663a15" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-7b58093 elementor-widget elementor-widget-text-editor" data-id="7b58093" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">还有一个请求</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-268ee8e ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="268ee8e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-e57aff1 ot-flex-column-vertical" data-id="e57aff1" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-06cf778 elementor-widget elementor-widget-text-editor" data-id="06cf778" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre style="line-height: 1.71429; color: #6d6d6d;">q=...&amp;...&amp;<strong>fl=myfield</strong></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-5fc6180 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="5fc6180" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-7884c68 ot-flex-column-vertical" data-id="7884c68" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-1f87307 elementor-widget elementor-widget-text-editor" data-id="1f87307" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">Solr从哪里得到[1]的字段值？</p>
<p class="translated">我要做的第一件事是改变项目中的一些东西:</p>
<ul>
<li style="list-style-type: none;">
 
<ul>
<li class="translated"><strong> schema.xml </strong>:添加上面的字段定义</li>
<li class="translated"><strong> <em>测试</em>类</strong>:更改查询参数(添加<strong> fl=myfield </strong>)并为索引文档中的<em> myfield </em>字段添加一些值。</li>
</ul>
</li>
</ul>
<p class="translated">现在，有一个前提:由于这篇博文的目标不是实际回答上面的问题，我们将跳过理解整个查询执行流和检测放置断点的正确位置所需的所有调查阶段。</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list --><!-- /wp:list --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">经过一番调查，我们了解到<em>RetrieveFieldOptimizer</em>[2]类在该过程中起着重要作用，所以让我们打开它并放置一些断点:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-7d73518 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="7d73518" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-f7737ba ot-flex-column-vertical" data-id="f7737ba" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-3f0b9f6 elementor-widget elementor-widget-text-editor" data-id="3f0b9f6" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><img src="../Images/48027ad14dd78f46dac494aa4d5e849c.png" alt="This image has an empty alt attribute; its file name is retrieveFieldOptimizer-1.png" data-original-src="https://web.archive.org/web/20220930005426im_/https://i1.wp.com/sease.io/wp-content/uploads/2019/12/retrieveFieldOptimizer-1.png?fit=712%2C913&amp;ssl=1"/></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-dce9b8c ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="dce9b8c" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5562d0c ot-flex-column-vertical" data-id="5562d0c" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-e2a2eed elementor-widget elementor-widget-text-editor" data-id="e2a2eed" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">如您所见，该类的名称和意图非常清楚，但我仍然想看看运行时会发生什么:让我们在调试模式下启动<em>测试</em>类，正如所料</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-87dbd7d ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="87dbd7d" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c18f7e1 ot-flex-column-vertical" data-id="c18f7e1" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-5011782 elementor-widget elementor-widget-text-editor" data-id="5011782" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><img src="../Images/eb7d04e680258295beaf315a7969f1b0.png" alt="This image has an empty alt attribute; its file name is debug_1.png" data-original-src="https://web.archive.org/web/20220930005426im_/https://i1.wp.com/sease.io/wp-content/uploads/2019/12/debug_1.png?fit=712%2C980&amp;ssl=1"/></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-83141fb ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="83141fb" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fd5bb30 ot-flex-column-vertical" data-id="fd5bb30" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-26b8c6b elementor-widget elementor-widget-text-editor" data-id="26b8c6b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">我可以看到字段“myfield”已被收集到“storedFields”集合中，而dvFields (DocValues字段)集合为空，即使该字段启用了DocValues标志。所以这可能暗示了我一些事情…</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph -->T3】</p>
<p class="translated">继续前进，我们到达了<em>优化</em>方法，在这里我们遇到了SOLR-8344<a href="https://web.archive.org/web/20220930005426/https://issues.apache.org/jira/browse/SOLR-8344">【3】</a>中描述的优化:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-3a59ba4 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3a59ba4" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2a26240 ot-flex-column-vertical" data-id="2a26240" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-a0dc296 elementor-widget elementor-widget-text-editor" data-id="a0dc296" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><img src="../Images/8cc1240ad95c0cf118f55ce62d54d22c.png" alt="This image has an empty alt attribute; its file name is debug_2.png" data-original-src="https://web.archive.org/web/20220930005426im_/https://i1.wp.com/sease.io/wp-content/uploads/2019/12/debug_2.png?fit=712%2C745&amp;ssl=1"/></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-3b9aefb ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3b9aefb" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-4c7db64 ot-flex-column-vertical" data-id="4c7db64" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-0cff1af elementor-widget elementor-widget-text-editor" data-id="0cff1af" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">同样，这只是一个例子，这里的目标不是描述研究结果；然而，简单地说，如果所有要求的字段</p>
<ul>
<li style="list-style-type: none;">
 
<ul>
<li class="translated">启用<em>文件值</em>和<em>存储的</em>标志</li>
<li class="translated">不是多值的</li>
</ul>
</li>
</ul>
<p class="translated">然后Solr只从docValues 中检索值<strong>。</strong></p>
<p class="translated"><!-- wp:paragraph --></p>
<p class="translated"><!-- /wp:paragraph --></p>
<p class="translated"><!-- wp:list --></p>
<p class="translated"><!-- /wp:list --></p>
<p class="translated"><!-- wp:paragraph --></p>
<p class="translated"><!-- /wp:paragraph --></p>
<p class="translated"><!-- wp:paragraph --></p>
<p class="translated"><!-- /wp:paragraph --></p>
<p class="translated">新年快乐！</p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated">注意这个类(以及优化)已经在Solr 7中引入。[2]</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-3a7cc1ad ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3a7cc1ad" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-11616820 ot-flex-column-vertical" data-id="11616820" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-430e9c89 elementor-widget elementor-widget-iheading" data-id="430e9c89" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// our service</span>
	        <h2 class="main-heading translated">不要脸的塞给我们培训和服务！</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-215a519b elementor-widget elementor-widget-text-editor" data-id="215a519b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">我提到过我们做<a href="https://web.archive.org/web/20220930005426/https://sease.io/training/apache-solr-training/apache-solr-beginner-training"> Apache Solr初学者</a>和<a href="https://web.archive.org/web/20220930005426/https://sease.io/training/elasticsearch-trainings/elasticsearch-beginner-training"> Elasticsearch初学者</a>培训吗？<br/>我们还提供关于这些主题的咨询，<a href="https://web.archive.org/web/20220930005426/https://sease.io/contacts">如果您想让您的搜索引擎更上一层楼，请联系</a>！</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-c22c4a5 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="c22c4a5" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-60a2a8bf ot-flex-column-vertical" data-id="60a2a8bf" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-1c044132 elementor-widget elementor-widget-iheading" data-id="1c044132" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// STAY ALWAYS UP TO DATE</span>
	        <h2 class="main-heading translated">订阅我们的时事通讯</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-433274e7 elementor-widget elementor-widget-text-editor" data-id="433274e7" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">你喜欢这篇关于挖掘Solr代码的文章吗？不要忘记订阅我们的时事通讯，以便随时了解信息检索世界的最新动态！</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-49aabe57 elementor-widget elementor-widget-wp-widget-mc4wp_form_widget" data-id="49aabe57" data-element_type="widget" data-widget_type="wp-widget-mc4wp_form_widget.default">
				<div class="elementor-widget-container">
			<script>(function() {
	window.mc4wp = window.mc4wp || {
		listeners: [],
		forms: {
			on: function(evt, cb) {
				window.mc4wp.listeners.push(
					{
						event   : evt,
						callback: cb
					}
				);
			}
		}
	}
})();
</script><!-- Mailchimp for WordPress v4.8.8 - https://wordpress.org/plugins/mailchimp-for-wp/ --><form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-1343" method="post" data-id="1343" data-name="Sease Mailchimp"><div class="mc4wp-form-fields">
<div class="subscribe-inner-form">
	<input type="email" name="EMAIL" placeholder="Your Email" required=""/>
	<button type="submit" class="subscribe-btn-icon"><i class="flaticon-telegram"/></button>
</div>	

<p class="translated"><label> <input name="AGREE_TO_TERMS" type="checkbox" value="1" required=""/> <a href="https://web.archive.org/web/20220930005426/https://sease.io/privacy-policy" target="_blank">我已经阅读并同意隐私政策</a> </label></p></div><label style="display: none !important;">Leave this field empty if you're human: <input type="text" name="_mc4wp_honeypot" value="" tabindex="-1" autocomplete="off"/></label><input type="hidden" name="_mc4wp_timestamp" value="1664499266"/><input type="hidden" name="_mc4wp_form_id" value="1343"/><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"/><div class="mc4wp-response"/></form><!-- / Mailchimp for WordPress Plugin -->		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
									    
</body>
</html>