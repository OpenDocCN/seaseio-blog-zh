<html>
<head>
<title>QueryResultCache and FilterCache in Apache Solr</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Apache Solr中的QueryResultCache和FilterCache</h1>
<blockquote>原文：<a href="https://web.archive.org/web/sease.io/2022/04/queryresultcache-and-filtercache-in-apache-solr.html#0001-01-01">https://web.archive.org/web/sease.io/2022/04/queryresultcache-and-filtercache-in-apache-solr.html#0001-01-01</a></blockquote>
									<section class="elementor-section elementor-top-section elementor-element elementor-element-b8da2c7 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b8da2c7" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-4f03c87 ot-flex-column-vertical" data-id="4f03c87" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-270a152 elementor-widget elementor-widget-text-editor" data-id="270a152" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">这篇博客旨在解释在Apache Solr 8.11.0的基本查询处理过程中如何使用QueryResultCache和FilterCache。这篇博客并没有解释在执行更高级的组件(比如faceting)时如何使用这些缓存。</p>
<p class="translated">Solr缓存与索引搜索器的特定实例相关联。默认情况下，缓存中的元素不会在一段时间后过期，相反，它们在索引搜索器的生命周期内保持有效。基于时间的过期可以通过使用<strong> maxIdleTime </strong>选项来启用。该属性以秒为单位，默认值为0，表示没有条目会因超过空闲时间而被自动收回。</p>
<p class="translated">在Solr中，可以使用以下缓存实现:<strong> CaffeineCache </strong>、<strong> LRUCache </strong>、<strong> FastLRUCache、</strong>和<strong> LFUCache </strong>。建议使用CaffeineCache ,因为它通常提供更低的内存占用、更高的命中率和更好的多线程性能，所有其他缓存都在弃用之列，它们将在Solr 9.0中被移除。</p>
<p class="translated">Solr Admin UI中的Statistics页面显示了所有活动缓存的性能信息。</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">如果我们想获得关于缓存的键的更多细节，从2021年12月起，一个新的开源工具就可以使用了。Shawn Heisey实现了cacheviewphandler<a href="https://web.archive.org/web/20220930005708/https://github.com/elyograg/cacheviewhandler">【1】</a>，它提供了一个rest端点来查看有哪些键以及为每个键缓存的文档数量。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-daffd5d ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="daffd5d" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fd8474e ot-flex-column-vertical" data-id="fd8474e" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-2954981 elementor-widget elementor-widget-text-editor" data-id="2954981" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><!-- wp:image --> <!-- /wp:image --></p>
<figure class="wp-block-image"><img src="../Images/097b99f61c1141180ba1cedcb5e5abfd.png" alt="" data-original-src="https://web.archive.org/web/20220930005708im_/https://lh3.googleusercontent.com/Wyi5J8nVHRvKaFhHIFRaAlMRU5w0Xz7KsNlsbFYBOJ736g2vsd-KQmmzlsySy2PWqygOo7VlH3mfP_Xm3FU0wqK3rpaH7gDlB8oUmw9SlBBG4KeMhPlsddVH7nnlMl9PYOZVAFA4"/></figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-6e6081f ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="6e6081f" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fb9c8bb ot-flex-column-vertical" data-id="fb9c8bb" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-6567e3e elementor-widget elementor-widget-text-editor" data-id="6567e3e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">我们现在关注Solr搜索器如何使用<strong> queryResultCache </strong>和<strong> filterCache </strong>的细节。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-ee11e0d ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="ee11e0d" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-59d0183 ot-flex-column-vertical" data-id="59d0183" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-440c173 elementor-widget elementor-widget-iheading" data-id="440c173" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">QueryResultCache</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-56a2d20 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="56a2d20" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-3f351e5 ot-flex-column-vertical" data-id="3f351e5" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-db4d436 elementor-widget elementor-widget-text-editor" data-id="db4d436" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">Solr文档<a href="https://web.archive.org/web/20220930005708/https://solr.apache.org/guide/8_11/query-settings-in-solrconfig.html#queryresultcache">【2】</a></p>
<p class="translated">queryResultCache保存以前搜索的结果，这是提交新查询时涉及的第一个缓存。</p>
<p class="translated">缓存存储了作为先前提交的查询结果返回的Lucene文档id的有序列表。每个条目都与查询参数q (query)、fq (filterQuery)、sort和minExactCount相关联。因此，每当您提交一个查询，其中至少有一个参数发生了变化，您将会得到一个缓存未命中，查询将被执行，一个新的条目将被缓存。</p>
<p class="translated">让我们看看在一些例子中会发生什么:</p>
<h6 id="lucene-query-parser" class="translated">Lucene查询解析器</h6>
<p class="translated">SOLR_URL/solr/films/select？q = name:bend &amp; FQ =-类型:电影&amp;sort=name asc</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph {"textColor":"black"} --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:heading {"level":4} --><!-- /wp:heading --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">关键是</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-6dae4cb ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="6dae4cb" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-aa2de62 ot-flex-column-vertical" data-id="aa2de62" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-10d5c3a elementor-widget elementor-widget-text-editor" data-id="10d5c3a" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre>{
    query: "name:bend",
    filterQuery: "-genre:film",
    sort: "name asc",
    minExactCount: Integer.MAX_VALUE
}</pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-9b620db ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="9b620db" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fca70e9 ot-flex-column-vertical" data-id="fca70e9" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-e53d890 elementor-widget elementor-widget-text-editor" data-id="e53d890" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">请注意，过滤器查询保持原样:否定查询将保留否定含义。我们将看到关于filterCache的不同行为。</p>
<h6 id="dismax-query-parser" class="translated">Dismax查询解析器</h6>
<p class="translated">SOLR_URL/solr/films/select？defType = dismax &amp; fq =流派:电影&amp; q =戏剧弯曲&amp; qf =流派名称</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:heading {"level":4} --><!-- /wp:heading --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">关键是</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-a2e3b75 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="a2e3b75" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c44341d ot-flex-column-vertical" data-id="c44341d" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-6b98921 elementor-widget elementor-widget-text-editor" data-id="6b98921" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre><code>{
    query: "+((genre:drama | name:drama) (genre:bend | name:bend))",
    filterQuery: "genre:film",
    sort: null,
    minExactCount: Integer.MAX_VALUE
}</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-2edf81c ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="2edf81c" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a062ae2 ot-flex-column-vertical" data-id="a062ae2" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-bfc30ab elementor-widget elementor-widget-iheading" data-id="bfc30ab" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">FilterCache</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-acd8ca7 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="acd8ca7" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a1094c4 ot-flex-column-vertical" data-id="a1094c4" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-85e1151 elementor-widget elementor-widget-text-editor" data-id="85e1151" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">Solr文档<a href="https://web.archive.org/web/20220930005708/https://solr.apache.org/guide/8_11/query-settings-in-solrconfig.html#filtercache">【2】</a></p>
<p class="translated">filterCache用于存储一个无序集，其中包含每个<strong> fq </strong>搜索参数的结果，在某些情况下，还包含<strong> q </strong>参数。</p>
<p class="translated">这个缓存总是使用正逻辑，所以如果查询包含参数<code>&amp;fq=-field:value</code>，缓存的查询将是<code>&amp;fq=field:value</code>。例如，如果我想获得集合中所有的电影，不包括类型为“戏剧”的电影，我将提交查询<code>q=*:*&amp;fq=-genre:drama</code>。filterCache将用关键字<code>genre:drama</code>和与之关联的文档集填充。</p>
<p class="translated">默认情况下，filterCache仅用于保存每个<strong> fq </strong>参数的结果(如果需要，转换为正查询)。无论如何，如果满足以下两个条件，Solr搜索器也使用filterCache来存储<strong> q </strong>参数的结果:</p>
<ul>
<li style="list-style-type: none;">
 
<ul>
<li class="translated">在<code>solrconfig.xml</code>文件中参数<code>useFilterForSortedQuery</code>被设置为真</li>
<li class="translated">查询排序子句不包括分数(如果未定义排序子句，默认情况下，结果按分数排序，因此排序确实隐式包括分数，并且不满足此条件)</li>
</ul>
</li>
</ul>
<p class="translated">让我们执行一些示例查询，并通过使用上面描述的cacheviewphandler<a href="https://web.archive.org/web/20220930005708/https://github.com/elyograg/cacheviewhandler">【3】</a>来验证缓存的内容。注意Solr在每个例子之前已经被重新启动，以避免缓存被污染。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-5abc628 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="5abc628" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-9f292d8 ot-flex-column-vertical" data-id="9f292d8" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-1680af0 elementor-widget elementor-widget-iheading" data-id="1680af0" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">正FQ子句:只缓存FQ条件的结果</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-2c9c8b1 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="2c9c8b1" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-f0e600c ot-flex-column-vertical" data-id="f0e600c" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-be21c6c elementor-widget elementor-widget-text-editor" data-id="be21c6c" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">我们希望所有电影的名字包含单词“弯曲”，我们过滤所有的结果有“戏剧”类型。正如所料，filterCache仅用于存储过滤器“流派:戏剧”的结果</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-799e3e2 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="799e3e2" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c84baee ot-flex-column-vertical" data-id="c84baee" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-fd86a89 elementor-widget elementor-widget-text-editor" data-id="fd86a89" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<figure>
<table>
<tbody>
<tr>
<td class="translated"><strong>查询</strong></td>
<td class="translated"><strong>useFilterForSortedQuery</strong></td>
</tr>
<tr>
<td class="translated">？q =名称:弯曲&amp; fq =类型:戏剧</td>
<td class="translated">错误的</td>
</tr>
</tbody>
</table>
</figure>
<p class="translated">【T8<!-- /wp:paragraph --><!-- wp:table {"className":"is-style-stripes"} --><!-- /wp:table --><!-- wp:paragraph --><!-- /wp:paragraph --></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-97add42 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="97add42" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-99e1e9f ot-flex-column-vertical" data-id="99e1e9f" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-af8f954 elementor-widget elementor-widget-text-editor" data-id="af8f954" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">/solr/films/admin/info/cache？缓存=过滤器</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-1d18e0b ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="1d18e0b" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-511f374 ot-flex-column-vertical" data-id="511f374" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-7676bc7 elementor-widget elementor-widget-text-editor" data-id="7676bc7" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre><code>  "filterCacheEntries": {
    "genre:drama": 569
  }</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-417eed6 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="417eed6" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-da74792 ot-flex-column-vertical" data-id="da74792" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-9a01260 elementor-widget elementor-widget-iheading" data-id="9a01260" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">负FQ条款:FQ条件转化为正</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-82aa6f2 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="82aa6f2" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-08564b7 ot-flex-column-vertical" data-id="08564b7" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-af542c4 elementor-widget elementor-widget-text-editor" data-id="af542c4" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">与我们之前看到的示例相同，但是在这种情况下，我们将对筛选查询使用否定条件。因为所有的过滤器都是否定的，所以fq子句在<code>fq=*:*-genre:drama</code>中被自动转换。搜索器分别执行两个查询:<code>*:*</code>和<code>genre:drama</code>。最终结果是第一个查询返回的文档列表，而不是第二个查询返回的文档列表。在这个例子中，filterCache存储了<code>*:*</code>和<code>genre:drama</code>查询的结果。</p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated">注意，如前所述，负数条目被转换为正数</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-02d92ba ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="02d92ba" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-e3d7db4 ot-flex-column-vertical" data-id="e3d7db4" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-0678b1c elementor-widget elementor-widget-text-editor" data-id="0678b1c" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<figure class="wp-block-table is-style-stripes">
<table>
<tbody>
<tr>
<td class="translated"><strong>查询</strong></td>
<td class="translated"><strong>useFilterForSortedQuery</strong></td>
</tr>
<tr>
<td class="translated">？q = name:bend &amp; FQ =-流派:戏剧</td>
<td class="translated">错误的</td>
</tr>
</tbody>
</table>
</figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-53517a1 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="53517a1" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c145ced ot-flex-column-vertical" data-id="c145ced" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-2924f17 elementor-widget elementor-widget-text-editor" data-id="2924f17" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">/solr/films/admin/info/cache？缓存=过滤器</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-25e15e5 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="25e15e5" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-953c6cf ot-flex-column-vertical" data-id="953c6cf" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-a6aabc2 elementor-widget elementor-widget-text-editor" data-id="a6aabc2" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre><code>  "filterCacheEntries": {
    "*:*": 1100,
    "genre:drama": 569
  }</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-0e53386 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="0e53386" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-45cb38b ot-flex-column-vertical" data-id="45cb38b" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-efbfd94 elementor-widget elementor-widget-iheading" data-id="efbfd94" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">指定了排序子句:Q结果被缓存</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-675df64 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="675df64" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2618820 ot-flex-column-vertical" data-id="2618820" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c1ccfd0 elementor-widget elementor-widget-text-editor" data-id="c1ccfd0" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在本例中，我们将参数<strong>useFilterForSortedQuery</strong>设置为true，并按名称对所有结果进行排序。在查询阶段，拥有一个未排序的文档列表是非常好的，因为Solr必须按名称对所有文档进行重新排序。这是一个完美的例子，Solr搜索器将使用filterCache来存储q子句。事实上，当我们检查缓存的内容时，我们会立即注意到键“name:bend”的存在。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-e494b52 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="e494b52" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-10c2d75 ot-flex-column-vertical" data-id="10c2d75" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-95674ec elementor-widget elementor-widget-text-editor" data-id="95674ec" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<figure>
<table>
<tbody>
<tr>
<td class="translated"><strong>查询</strong></td>
<td class="translated"><strong>useFilterForSortedQuery</strong></td>
</tr>
<tr>
<td class="translated">？q = name:bend &amp; FQ =流派:剧情&amp;sort=name asc</td>
<td class="translated">真实的</td>
</tr>
</tbody>
</table>
</figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-5656809 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="5656809" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-0b4c61a ot-flex-column-vertical" data-id="0b4c61a" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-2b7deae elementor-widget elementor-widget-text-editor" data-id="2b7deae" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">/solr/films/admin/info/cache？缓存=过滤器</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-0b37e7a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="0b37e7a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5779211 ot-flex-column-vertical" data-id="5779211" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-973e859 elementor-widget elementor-widget-text-editor" data-id="973e859" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre><code>  "filterCacheEntries": {
    "genre:drama": 569,
    "name:bend": 3
  }</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-25abbe5 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="25abbe5" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-3dd9f02 ot-flex-column-vertical" data-id="3dd9f02" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-f3964bd elementor-widget elementor-widget-iheading" data-id="f3964bd" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">未指定排序子句:没有缓存Q结果</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-b872c3d ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b872c3d" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-b3ec649 ot-flex-column-vertical" data-id="b3ec649" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-0190461 elementor-widget elementor-widget-text-editor" data-id="0190461" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">这是之前看到的同一个例子，但是我们删除了排序。尽管参数<strong>useFilterForSortedQuery</strong>为真，但filterCache不会用于<strong> q </strong>子句，因为结果是按分数隐式排序的。在这种情况下，Solr搜索器的行为与我们在第一个例子中看到的完全一样</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-c957168 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="c957168" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-0f2d806 ot-flex-column-vertical" data-id="0f2d806" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-12d9f1a elementor-widget elementor-widget-text-editor" data-id="12d9f1a" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<figure class="wp-block-table is-style-stripes">
<table>
<tbody>
<tr>
<td class="translated"><strong>查询</strong></td>
<td class="translated"><strong>useFilterForSortedQuery</strong></td>
</tr>
<tr>
<td class="translated">？q =名称:弯曲&amp; fq =类型:戏剧</td>
<td class="translated">真实的</td>
</tr>
</tbody>
</table>
</figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-08c1c76 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="08c1c76" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-3278b93 ot-flex-column-vertical" data-id="3278b93" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-7987588 elementor-widget elementor-widget-text-editor" data-id="7987588" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">filterCache内容</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-499f78a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="499f78a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c921268 ot-flex-column-vertical" data-id="c921268" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-1d991ce elementor-widget elementor-widget-text-editor" data-id="1d991ce" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre><code>  "filterCacheEntries": {
    "genre:drama": 569
  }</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-98700ec ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="98700ec" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-b27fdae ot-flex-column-vertical" data-id="b27fdae" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-ee60b38 elementor-widget elementor-widget-iheading" data-id="ee60b38" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">合成条件</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-ab9019b ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="ab9019b" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d197c14 ot-flex-column-vertical" data-id="d197c14" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-da2c2b4 elementor-widget elementor-widget-text-editor" data-id="da2c2b4" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在我们之前看到的所有例子中，我们对每个查询使用了一个fq条件。如果我们想要更多的过滤器，我们可以添加多个fq子句，最终的查询过滤器将是所有fq条件的拦截。查询<code>&amp;fq=condition1&amp;fq=condition2</code>提供了与<code>fq=condition1 AND condition2</code>相同的结果。如果我们想要得到多个条件的并集，我们使用语法:<code>fq=condition1 OR condition2</code>。</p>
<p class="translated"><!-- wp:paragraph -->T37<!-- wp:paragraph -->T39】</p>
<p class="translated">现在让我们看看当我们提交这些带有组合条件的查询时，过滤器缓存中会发生什么。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-cca0d2e ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="cca0d2e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-65ff039 ot-flex-column-vertical" data-id="65ff039" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-f170dab elementor-widget elementor-widget-text-editor" data-id="f170dab" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<figure class="wp-block-table is-style-stripes">
<table style="height: 80px;" width="537">
<tbody>
<tr>
<td class="translated"><strong>查询</strong></td>
<td> </td>
<td> </td>
</tr>
<tr>
<td class="translated">？q = *<em>:*</em>&amp;FQ =流派:剧情&amp;FQ =导演_编导:罗素</td>
<td> </td>
<td> </td>
</tr>
</tbody>
</table>
</figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-53e406b ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="53e406b" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-51bb74f ot-flex-column-vertical" data-id="51bb74f" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-dac6c5b elementor-widget elementor-widget-text-editor" data-id="dac6c5b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">filterCache内容</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-1fc69f3 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="1fc69f3" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d2e7cc2 ot-flex-column-vertical" data-id="d2e7cc2" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-73cf237 elementor-widget elementor-widget-text-editor" data-id="73cf237" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre><code>  "filterCacheEntries": {
    "directed_by:russell": 2,
    "genre:drama": 569
  }</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-437dc5e ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="437dc5e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-7f31582 ot-flex-column-vertical" data-id="7f31582" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-5a18acc elementor-widget elementor-widget-text-editor" data-id="5a18acc" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">执行这个查询，solr独立计算每个fq子句，并将每个结果存储在缓存中；然后它计算截距。使用上面列出的其他语法，存储在缓存中的结果将是所有条件的最终截取结果。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-6870131 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="6870131" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d49975b ot-flex-column-vertical" data-id="d49975b" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-9a434c4 elementor-widget elementor-widget-text-editor" data-id="9a434c4" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<figure class="wp-block-table is-style-stripes">
<table>
<tbody>
<tr>
<td class="translated"><strong>查询</strong></td>
<td> </td>
<td> </td>
</tr>
<tr>
<td class="translated">？q = *<em>:*</em>&amp;FQ =类型:戏剧和导演_作者:罗素</td>
<td> </td>
<td> </td>
</tr>
</tbody>
</table>
</figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-0f0b659 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="0f0b659" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-edac7aa ot-flex-column-vertical" data-id="edac7aa" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-be3c18b elementor-widget elementor-widget-text-editor" data-id="be3c18b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">filterCache内容</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-b8fff31 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b8fff31" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-e142631 ot-flex-column-vertical" data-id="e142631" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-717b685 elementor-widget elementor-widget-text-editor" data-id="717b685" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre><code>  "filterCacheEntries": {
    "+genre:drama +directed_by:russell": 2
  }</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-b2d9a24 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b2d9a24" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-05d1b9a ot-flex-column-vertical" data-id="05d1b9a" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-e21feea elementor-widget elementor-widget-text-editor" data-id="e21feea" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">使用多个fq子句，我们将以更高的粒度将数据存储在过滤器缓存中，因此我们在未来的搜索中更有可能命中缓存。如果用户提交相同的查询，filterCache将不会命中，并且必须为每个查询计算所有条件的截取。另一方面，使用由AND/OR多个条件组成的单个fq子句，只有当未来的查询包含完全相同的fq子句时，我们才会命中缓存。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-f4f00ff ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="f4f00ff" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d268627 ot-flex-column-vertical" data-id="d268627" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-af4b471 elementor-widget elementor-widget-text-editor" data-id="af4b471" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<figure class="wp-block-table is-style-stripes">
<table>
<tbody>
<tr>
<td class="translated"><strong>查询</strong></td>
<td> </td>
<td> </td>
</tr>
<tr>
<td class="translated">？q = *<em>:*</em>&amp;FQ =滤镜(流派:戏剧)或滤镜(导演_作者:罗素)</td>
<td> </td>
<td> </td>
</tr>
</tbody>
</table>
</figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-02f321e ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="02f321e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-35b8abf ot-flex-column-vertical" data-id="35b8abf" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-8d98917 elementor-widget elementor-widget-text-editor" data-id="8d98917" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">filterCache内容</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-cd44443 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="cd44443" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-0d6b02a ot-flex-column-vertical" data-id="0d6b02a" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-3ee80ff elementor-widget elementor-widget-text-editor" data-id="3ee80ff" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre><code>  "filterCacheEntries": {
    "directed_by:russell": 2,
    "filter(genre:drama) filter(directed_by:russell)": 569,
    "genre:drama": 569
  }</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-41c4578 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="41c4578" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5cf8a59 ot-flex-column-vertical" data-id="5cf8a59" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-458c2eb elementor-widget elementor-widget-text-editor" data-id="458c2eb" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">关键字<code>filter()</code>用于告诉Solr使用filterCache，即使是在组合的fq子句中存储单个条件的结果。如果未来的查询将包含相同的fq组合条件或单个条件，这允许我们能够命中缓存。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-445046de ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="445046de" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-1faaf5ac ot-flex-column-vertical" data-id="1faaf5ac" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-50b80104 elementor-widget elementor-widget-iheading" data-id="50b80104" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// our service</span>
	        <h2 class="main-heading translated">不要脸的塞给我们培训和服务！</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-4eee5a2a elementor-widget elementor-widget-text-editor" data-id="4eee5a2a" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">我提到过我们做<a href="https://web.archive.org/web/20220930005708/https://sease.io/training/apache-solr-training"> Apache Solr初学者</a>和<a href="https://web.archive.org/web/20220930005708/https://sease.io/training/elasticsearch-trainings/elasticsearch-beginner-training"> Elasticsearch初学者</a>培训吗？<br/>我们还提供关于这些主题的咨询，<a href="https://web.archive.org/web/20220930005708/https://sease.io/contacts">如果您想让您的搜索引擎更上一层楼，请联系</a>！</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-4ba933b4 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="4ba933b4" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-43a1d7af ot-flex-column-vertical" data-id="43a1d7af" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-3891a5dd elementor-widget elementor-widget-iheading" data-id="3891a5dd" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// STAY ALWAYS UP TO DATE</span>
	        <h2 class="main-heading translated">订阅我们的时事通讯</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-7418c99d elementor-widget elementor-widget-text-editor" data-id="7418c99d" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">你喜欢这篇关于Apache Solr中的QueryResultCache和FilterCache的帖子吗？不要忘记订阅我们的时事通讯，以便随时了解信息检索世界的最新动态！</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-537fcaca elementor-widget elementor-widget-wp-widget-mc4wp_form_widget" data-id="537fcaca" data-element_type="widget" data-widget_type="wp-widget-mc4wp_form_widget.default">
				<div class="elementor-widget-container">
			<script>(function() {
	window.mc4wp = window.mc4wp || {
		listeners: [],
		forms: {
			on: function(evt, cb) {
				window.mc4wp.listeners.push(
					{
						event   : evt,
						callback: cb
					}
				);
			}
		}
	}
})();
</script><!-- Mailchimp for WordPress v4.8.8 - https://wordpress.org/plugins/mailchimp-for-wp/ --><form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-1343" method="post" data-id="1343" data-name="Sease Mailchimp"><div class="mc4wp-form-fields">
<div class="subscribe-inner-form">
	<input type="email" name="EMAIL" placeholder="Your Email" required=""/>
	<button type="submit" class="subscribe-btn-icon"><i class="flaticon-telegram"/></button>
</div>	

<p class="translated"><label> <input name="AGREE_TO_TERMS" type="checkbox" value="1" required=""/> <a href="https://web.archive.org/web/20220930005708/https://sease.io/privacy-policy" target="_blank">我已经阅读并同意隐私政策</a> </label></p></div><label style="display: none !important;">Leave this field empty if you're human: <input type="text" name="_mc4wp_honeypot" value="" tabindex="-1" autocomplete="off"/></label><input type="hidden" name="_mc4wp_timestamp" value="1664499428"/><input type="hidden" name="_mc4wp_form_id" value="1343"/><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"/><div class="mc4wp-response"/></form><!-- / Mailchimp for WordPress Plugin -->		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
									    
</body>
</html>