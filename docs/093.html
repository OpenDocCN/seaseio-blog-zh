<html>
<head>
<title>Apache Solr Learning To Rank Feature Extraction and qTime</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Apache Solr学习排序特征提取和qTime</h1>
<blockquote>原文：<a href="https://web.archive.org/web/sease.io/2022/01/apache-solr-learning-to-rank-feature-extraction-and-qtime.html#0001-01-01">https://web.archive.org/web/sease.io/2022/01/apache-solr-learning-to-rank-feature-extraction-and-qtime.html#0001-01-01</a></blockquote>
									<section class="elementor-section elementor-top-section elementor-element elementor-element-2ed8615 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="2ed8615" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-657a385 ot-flex-column-vertical" data-id="657a385" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-b6e9636 elementor-widget elementor-widget-text-editor" data-id="b6e9636" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">大家好！在这篇博文中，我将向您介绍如何测量不同组件的计时，这些组件参与了通过qTime参数对查询执行时间进行排序的学习。</p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated">先简单介绍一下关于在Apache Solr中学习排名！</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-9c2a306 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="9c2a306" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-603bfb2 ot-flex-column-vertical" data-id="603bfb2" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-41ee688 elementor-widget elementor-widget-iheading" data-id="41ee688" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">介绍</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-02d897f ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="02d897f" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d074a60 ot-flex-column-vertical" data-id="d074a60" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c00e202 elementor-widget elementor-widget-text-editor" data-id="c00e202" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><em> contrib </em> <em> ltr </em>是关于在Apache Solr中学习模型排序的重新排序。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-cd8c056 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="cd8c056" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2c34fed ot-flex-column-vertical" data-id="2c34fed" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-28b9fb9 elementor-widget elementor-widget-text-editor" data-id="28b9fb9" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h6 style="text-align: center;" class="translated">重新排序允许您运行一个简单的匹配文档查询，然后使用另一个更复杂的查询的分数重新排序前N个文档。</h6>
<p style="text-align: center;" class="translated"><a style="font-family: 'Nunito Sans', sans-serif; font-weight: var( --e-global-typography-text-font-weight ); background-color: #ffffff; font-size: 16px;" href="https://web.archive.org/web/20221202233445/https://solr.apache.org/guide/8_10/learning-to-rank.html">https://solr.apache.org/guide/8_10/learning-to-rank.html</a></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-72e0fd5 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="72e0fd5" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-f70bf37 ot-flex-column-vertical" data-id="f70bf37" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-f075d4e elementor-widget elementor-widget-text-editor" data-id="f075d4e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在我们的例子中，复杂查询将是一个<strong> LTR </strong>查询。</p>
<p class="translated">重新排序过程包括<strong>第一查询</strong>(第一阶段检索)和对top-k的重新排序查询(使用“ltr”查询解析器的<strong>查询</strong>)。<br/>当使用学习排序来重新排序时，两个元素开始起作用:<strong>特征提取</strong>和<strong>重新评分</strong>(其中我们应用模型来计算搜索结果分数)。</p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated">因此，LTR-query需要特性定义(<strong> feature.json) </strong>和<strong>训练模型</strong>。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-6cdb500 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="6cdb500" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a50c618 ot-flex-column-vertical" data-id="a50c618" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-68dea83 elementor-widget elementor-widget-iheading" data-id="68dea83" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">功能存储</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-dc09052 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="dc09052" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c9183e2 ot-flex-column-vertical" data-id="c9183e2" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-e209a5e elementor-widget elementor-widget-text-editor" data-id="e209a5e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">要素存储是一种数据结构(保存在文件中),它描述了模型使用的一组要素:它们的名称、它们的类以及它们的相关参数。这需要与模型一起上传，以便在Apache Solr<a href="https://web.archive.org/web/20221202233445/https://solr.apache.org/guide/8_7/learning-to-rank.html#uploading-features">【1】</a>中使用LTR查询。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-970e121 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="970e121" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-07d4a2b ot-flex-column-vertical" data-id="07d4a2b" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-4f9549b elementor-widget elementor-widget-text-editor" data-id="4f9549b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<h6 style="text-align: center;" class="translated">特征是一个值，一个数字，它代表被评分的文档或被评分的文档的查询的一些数量或质量。</h6>
<p style="text-align: center;" class="translated"><a style="font-weight: var( --e-global-typography-text-font-weight ); background-color: #ffffff;" href="https://web.archive.org/web/20221202233445/https://solr.apache.org/guide/8_10/learning-to-rank.html#feature">https://Solr . Apache . org/guide/8 _ 10/learning-to-rank . html #功能</a></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-5b3076d ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="5b3076d" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6e0b358 ot-flex-column-vertical" data-id="6e0b358" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-56d314c elementor-widget elementor-widget-text-editor" data-id="56d314c" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">Solr中有几种不同类型的特性可以使用，如果你好奇可以看看文档<a href="https://web.archive.org/web/20221202233445/https://solr.apache.org/guide/8_10/learning-to-rank.html#feature-engineering">【2】</a>。</p>
<p class="translated">模型的特征可以通过两种方式在两个不同的阶段提取:</p>
<ul>
<li style="list-style-type: none;">
 
<ul>
<li class="translated">在重新分级阶段(使用LTR模型时)</li>
<li class="translated">当在结果中向用户返回特征向量时，使用<em>字段列表</em>查询参数(<em> fl </em>)。</li>
</ul>
</li>
</ul>
<p class="translated">当我们通过<em> fl </em>参数提取特征时，我们在内部使用一个名为<strong>特征转换器</strong><a href="https://web.archive.org/web/20221202233445/https://solr.apache.org/guide/8_10/learning-to-rank.html#feature-engineering"/><a href="https://web.archive.org/web/20221202233445/https://solr.apache.org/guide/8_10/transforming-result-documents.html#transforming-result-documents">【4】</a>的Solr组件。</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list --><!-- /wp:list --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">对于LTR，转换器被称为<em>LTRFeatureLoggerTransformerFactory</em>，并且它可以在<em> fl </em>查询字段内被称为:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-3c6d406 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3c6d406" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-709218d ot-flex-column-vertical" data-id="709218d" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c47ce51 elementor-widget elementor-widget-text-editor" data-id="c47ce51" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre><code>fl=id,[features store=yourFeatureStore]</code></pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-cabb427 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="cabb427" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-ac6ffe2 ot-flex-column-vertical" data-id="ac6ffe2" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-2c127e9 elementor-widget elementor-widget-text-editor" data-id="2c127e9" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在这种情况下，<em>搜索结果中的每个文档都将返回特征库</em> &lt; yourFeatureStore &gt;中的所有特征。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-8ff6b96 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="8ff6b96" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a547501 ot-flex-column-vertical" data-id="a547501" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-78af5ca elementor-widget elementor-widget-iheading" data-id="78af5ca" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">模型</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-26bcd10 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="26bcd10" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-1a07b0f ot-flex-column-vertical" data-id="1a07b0f" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-816b937 elementor-widget elementor-widget-text-editor" data-id="816b937" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">此外，模型需要训练，然后从Solr外部上传<a href="https://web.archive.org/web/20221202233445/https://solr.apache.org/guide/8_10/learning-to-rank.html#uploading-a-model">【5】</a>。</p>
<p class="translated">排名模型计算用于对文档重新排名的分数。<br/>不考虑任何特定的算法或实现，排名模型的计算可以使用三种类型的输入<a href="https://web.archive.org/web/20221202233445/https://solr.apache.org/guide/8_10/learning-to-rank.html#ranking-model">【6】</a>:</p>
<ul>
<li style="list-style-type: none;">
 
<ul>
<li class="translated">算法类型</li>
<li class="translated">表示查询-文档对的特征</li>
<li class="translated">算法实现</li>
</ul>
</li>
</ul>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list --><!-- /wp:list --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">同样在这种情况下，根据你的需要有几种型号，你可以在<a href="https://web.archive.org/web/20221202233445/https://solr.apache.org/guide/8_10/learning-to-rank.html#feature-selection-and-model-training">【7】</a>的文档中查阅。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-63e943f ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="63e943f" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-40aebb4 ot-flex-column-vertical" data-id="40aebb4" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-2ddbdd5 elementor-widget elementor-widget-iheading" data-id="2ddbdd5" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">学习对查询性能进行分级</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-bba6b12 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="bba6b12" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-73786c8 ot-flex-column-vertical" data-id="73786c8" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-1f0253a elementor-widget elementor-widget-text-editor" data-id="1f0253a" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">假设我们运行一个LTR查询，并想要测量返回结果所需的时间，具体来说，我们想要分离出<strong>特征提取</strong>和<strong>模型重新评分</strong>所需的时间。</p>
<p class="translated"><!-- wp:paragraph -->T48<!-- wp:paragraph -->T50】</p>
<p class="translated">我们如何衡量它们？</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-03fad3e ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="03fad3e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-3d4b81c ot-flex-column-vertical" data-id="3d4b81c" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-f130b79 elementor-widget elementor-widget-iheading" data-id="f130b79" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">QTIME</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-0e5bbf0 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="0e5bbf0" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5d77cb2 ot-flex-column-vertical" data-id="5d77cb2" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-a194f3e elementor-widget elementor-widget-text-editor" data-id="a194f3e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">qTime是Solr输出元素，表示Solr处理请求和找到结果所需的时间。<br/>因此，查询的qTime是Solr处理查询所需的时间(没有网络延迟)。</p>
<p class="translated">qTime包括:</p>
<ol>
<li style="list-style-type: none;">
 
<ol>
<li class="translated">匹配阶段</li>
<li class="translated">排名阶段</li>
<li class="translated">重新排序阶段</li>
<li class="translated">刻面</li>
<li class="translated">拼写检查</li>
<li class="translated">其他搜索组件</li>
</ol>
</li>
</ol>
<p class="translated"><strong> qTime不覆盖</strong>:</p>
<ol>
<li style="list-style-type: none;">
 
<ol>
<li class="translated">编写JSON响应所需的时间</li>
<li class="translated">检索要在响应中呈现的存储字段/文档值所需的时间</li>
<li class="translated">处理<em>字段列表(fl) </em>参数中请求的变压器所需的时间</li>
</ol>
</li>
</ol>
<p class="translated">【T2<!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list {"ordered":true} --><!-- /wp:list --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list {"ordered":true} --><!-- /wp:list --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">我们的目标是在这段时间内了解重新排序需要多少时间，特征提取需要多少时间。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-74e2c44 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="74e2c44" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-47b05f9 ot-flex-column-vertical" data-id="47b05f9" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-837f176 elementor-widget elementor-widget-iheading" data-id="837f176" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">问题:如何衡量特征提取所需要的时间？</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-4dac4c9 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="4dac4c9" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-779c13a ot-flex-column-vertical" data-id="779c13a" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-4f9395f elementor-widget elementor-widget-text-editor" data-id="4f9395f" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">特征提取是在重新排序阶段执行的，但是Apache Solr并不明确测量所用的时间。鉴于这一事实，在搜索结果上执行以显示特征向量的特征转换器在提取特征向量时做了类似的工作，有人可以考虑发送调用特征转换器(<em>f1</em>)的最小查询来隔离和计算特征提取所需的时间。<br/>然而，<strong>执行变压器所需的时间不包括在qTime </strong>中，因此这种方法不能用于我们的目的。</p>
<h6 class="translated">第一次尝试</h6>
<p class="translated">我们用来解决这个问题的第一个方法是考虑HTTP响应时间来计算特征提取的影响。<br/>我们执行了一个小查询，比如:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-7138f0a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="7138f0a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-3ba1476 ot-flex-column-vertical" data-id="3ba1476" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-555f563 elementor-widget elementor-widget-text-editor" data-id="555f563" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><!-- wp:paragraph --></p>
<p class="translated"><!-- /wp:paragraph --></p>
<p class="translated"><!-- wp:code --></p>
<pre>https://localhost:8983/solr/solr_collection/select?debug=timing&amp;q=*:*&amp;fl=[features 
store=our_ltr_store]</pre>
<p class="translated"><!-- /wp:code --></p>
<p class="translated"><!-- wp:paragraph --></p>
<p class="translated"><!-- /wp:paragraph --></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-3285d7c ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3285d7c" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-823c77b ot-flex-column-vertical" data-id="823c77b" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-db5e1ed elementor-widget elementor-widget-text-editor" data-id="db5e1ed" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">并查看了HTTP响应时间。<br/>即使我们从HTTP响应时间中移除qTime来隔离特征提取，也会出现另一个问题:<br/> HTTP响应时间还包含构建响应JSON所需的时间，因此，<em> fl </em>中请求的特征数量越多，创建响应所需的时间就越长。</p>
<p class="translated">所以我们无法成功分离特征提取时间。</p>
<h6 class="translated">第二次尝试</h6>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:heading {"level":4} --><!-- /wp:heading --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">我们使用的第二种方法基于<strong>虚拟模型</strong>。这是我们能创建的最简单的模型，因此这个模型总是给每个搜索结果分配相同的常量值:10。<br/>下面是模型:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-638d223 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="638d223" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-db7986e ot-flex-column-vertical" data-id="db7986e" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-e644a2b elementor-widget elementor-widget-text-editor" data-id="e644a2b" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre>{
   "store": "our_ltr_store",
   "class" : "org.apache.solr.ltr.model.MultipleAdditiveTreesModel",
   "name" : "our_ltr_model",
   "features": [
    {
        "name": "feature_1"
    },
    ...
    {
        "name": "feature_n"
    }
    ],
   "params" : {
       "trees" : [
           {
               "weight" : "1",
               "root" : {
                   "value" : "10"
               }
           }
       ]
   }
}</pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-28c3ada ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="28c3ada" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-9a44bbf ot-flex-column-vertical" data-id="9a44bbf" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-87e9866 elementor-widget elementor-widget-text-editor" data-id="87e9866" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">使用这个模型，我们可以看到，模型rescore所需的时间是最小的，并且大部分时间实际上用于特征提取。</p>
<p class="translated"><!-- wp:paragraph -->T45<!-- wp:paragraph -->T47】</p>
<p class="translated">下面是一个带有重新排序的查询Q的示例:<br/>–针对6575个特征进行特征提取<br/>–一个复杂模型使用6575个特征对每个搜索结果进行重新排序<br/>Q time = 5080毫秒</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-517bb01 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="517bb01" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-01d10f8 ot-flex-column-vertical" data-id="01d10f8" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-b583a5c elementor-widget elementor-widget-text-editor" data-id="b583a5c" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><!-- wp:image {"id":44120,"sizeSlug":"full","linkDestination":"none"} --> <!-- /wp:image --></p>
<figure class="wp-block-image size-full"><img data-attachment-id="44120" data-permalink="https://web.archive.org/web/20221202233445/https://sease.io/2022/01/apache-solr-learning-to-rank-feature-extraction-and-qtime.html/complex_model_result_rq_many_features" data-orig-file="https://web.archive.org/web/20221202233445/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/complex_model_result_rq_many_features.png?fit=501%2C303&amp;ssl=1" data-orig-size="501,303" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="complex_model_result_rq_many_features" data-image-description="" data-image-caption="" data-medium-file="https://web.archive.org/web/20221202233445/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/complex_model_result_rq_many_features.png?fit=300%2C181&amp;ssl=1" data-large-file="https://web.archive.org/web/20221202233445/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/complex_model_result_rq_many_features.png?fit=501%2C303&amp;ssl=1" decoding="async" loading="lazy" width="501" height="303" class="wp-image-44120" src="../Images/1136c2707ec63d8105990344d7f907a0.png" alt="" data-recalc-dims="1" srcset="https://web.archive.org/web/20221202233445im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/complex_model_result_rq_many_features.png?w=501&amp;ssl=1 501w, https://web.archive.org/web/20221202233445im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/complex_model_result_rq_many_features.png?resize=300%2C181&amp;ssl=1 300w" sizes="(max-width: 501px) 100vw, 501px" data-original-src="https://web.archive.org/web/20221202233445im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/complex_model_result_rq_many_features.png?ssl=1"/></figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-c4fbc78 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="c4fbc78" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a4c4f86 ot-flex-column-vertical" data-id="a4c4f86" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c8f4615 elementor-widget elementor-widget-text-editor" data-id="c8f4615" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">下面是一个带有重新排序的相同查询Q的示例:<br/>–针对6575个特征进行特征提取<br/>–虚拟模型对每个搜索结果进行重新排序，常数分数为10 <br/> QTime = 4529ms</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-efcd871 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="efcd871" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-86c3c99 ot-flex-column-vertical" data-id="86c3c99" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-5400b47 elementor-widget elementor-widget-text-editor" data-id="5400b47" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><!-- wp:image {"id":44121,"sizeSlug":"full","linkDestination":"none"} --> <!-- /wp:image --></p>
<figure class="wp-block-image size-full"><img data-attachment-id="44121" data-permalink="https://web.archive.org/web/20221202233445/https://sease.io/2022/01/apache-solr-learning-to-rank-feature-extraction-and-qtime.html/dummy_model_result_rq_many_features" data-orig-file="https://web.archive.org/web/20221202233445/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/dummy_model_result_rq_many_features.png?fit=552%2C305&amp;ssl=1" data-orig-size="552,305" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="dummy_model_result_rq_many_features" data-image-description="" data-image-caption="" data-medium-file="https://web.archive.org/web/20221202233445/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/dummy_model_result_rq_many_features.png?fit=300%2C166&amp;ssl=1" data-large-file="https://web.archive.org/web/20221202233445/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/dummy_model_result_rq_many_features.png?fit=552%2C305&amp;ssl=1" decoding="async" loading="lazy" width="552" height="305" class="wp-image-44121" src="../Images/ad5679d16609beff9e9abbf452fc1d92.png" alt="" data-recalc-dims="1" srcset="https://web.archive.org/web/20221202233445im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/dummy_model_result_rq_many_features.png?w=552&amp;ssl=1 552w, https://web.archive.org/web/20221202233445im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/dummy_model_result_rq_many_features.png?resize=300%2C166&amp;ssl=1 300w" sizes="(max-width: 552px) 100vw, 552px" data-original-src="https://web.archive.org/web/20221202233445im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/dummy_model_result_rq_many_features.png?ssl=1"/></figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-ededf73 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="ededf73" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c7cf796 ot-flex-column-vertical" data-id="c7cf796" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-82921b5 elementor-widget elementor-widget-text-editor" data-id="82921b5" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><strong>正如我们所见，两种方法的时间相似。如果大部分时间是由于重新排序，我们应该看到qTime大大减少，但事实并非如此。</strong></p>
<p class="translated">这个虚拟模型的使用允许我们<strong>估计特征提取所花费的时间。</strong></p>
<p class="translated">为模型重新分级提取更多或更少的特征时会发生什么？</p>
<p class="translated">我们可以注意到两种行为:</p>
<ol>
<li style="list-style-type: none;">
 
<ol>
<li class="translated">Apache Solr为模型提取的特性越多，执行查询所需的时间<strong>就越多</strong></li>
<li class="translated"><strong>我们想要重新排序的文档数量越多，执行查询所需的时间就越长。</strong>我们想要重新排序的文档数量越多，我们执行特征提取和评分的次数就越多(每个文档一次)。</li>
</ol>
</li>
</ol>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:list {"ordered":true} --><!-- /wp:list --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated"><br/>这听起来可能是显而易见的，但是让我们用虚拟模型方法来验证:<br/><em>第一个行为</em>反映在使用具有很少特征的虚拟模型(qTime = 10)对10个文档执行重新排序(rerank docs = 10)所需的qTime和使用具有许多特征的虚拟模型(qTime = 210)对10个文档执行重新排序所需的qTime。<br/><em>第二种行为</em>反映为用具有许多特征的虚拟模型(qTime = 210)对10个文档(rerank docs = 10)执行重新排序所需的qTime和用相同虚拟模型对10000个文档执行重新排序所需的q time(q time = 6726)。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-17b2f94 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="17b2f94" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-57a1079 ot-flex-column-vertical" data-id="57a1079" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-b62a6fe elementor-widget elementor-widget-text-editor" data-id="b62a6fe" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><!-- wp:image {"align":"center","id":44157,"sizeSlug":"full","linkDestination":"none"} --> <!-- /wp:image --></p>
<figure class="wp-block-image aligncenter size-full"><img data-attachment-id="44157" data-permalink="https://web.archive.org/web/20221202233445/https://sease.io/2022/01/apache-solr-learning-to-rank-feature-extraction-and-qtime.html/image-8" data-orig-file="https://web.archive.org/web/20221202233445/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/image-8.png?fit=654%2C340&amp;ssl=1" data-orig-size="654,340" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-8" data-image-description="" data-image-caption="" data-medium-file="https://web.archive.org/web/20221202233445/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/image-8.png?fit=300%2C156&amp;ssl=1" data-large-file="https://web.archive.org/web/20221202233445/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/image-8.png?fit=654%2C340&amp;ssl=1" decoding="async" loading="lazy" width="654" height="340" class="wp-image-44157 aligncenter" src="../Images/816d33c72f0a0e997e4b274f9b5d748b.png" alt="" data-recalc-dims="1" srcset="https://web.archive.org/web/20221202233445im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/image-8.png?w=654&amp;ssl=1 654w, https://web.archive.org/web/20221202233445im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/image-8.png?resize=300%2C156&amp;ssl=1 300w" sizes="(max-width: 654px) 100vw, 654px" data-original-src="https://web.archive.org/web/20221202233445im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/11/image-8.png?ssl=1"/></figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-99998d9 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="99998d9" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c476df1 ot-flex-column-vertical" data-id="c476df1" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-cd19be0 elementor-widget elementor-widget-iheading" data-id="cd19be0" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">摘要</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-42885b3 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="42885b3" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-cefb97d ot-flex-column-vertical" data-id="cefb97d" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-3950f16 elementor-widget elementor-widget-text-editor" data-id="3950f16" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在这篇博文中，我们看到:</p>
<ol>
<li style="list-style-type: none;">
 
<ol>
<li class="translated">介绍如何在Apache Solr中对查询工作进行排序。</li>
<li class="translated">哪些组件参与LTR查询:特性、模型。</li>
<li class="translated">什么是qTime，为什么它不能为我们提供查询使用模型所需的特征提取时间的信息。</li>
</ol>
</li>
</ol>
<p class="translated">对于最后一点，我们已经看到qTime没有考虑fl transformer参数提取特征所需的时间。因此，如果我们想知道需要多长时间，我们需要从rq部分估计时间(不幸的是，您不能仅仅使用transformer来估计时间)。<br/>这可以使用虚拟模型来完成，虚拟模型减少了除特征提取之外的所有其他查询部分所需的时间。<br/>从对虚拟模型的测试中，我们可以看到大部分时间都花在了特征提取上。</p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:list {"ordered":true} --> <!-- /wp:list --> <!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated">在查询时间<a href="https://web.archive.org/web/20221202233445/https://issues.apache.org/jira/browse/SOLR-15778">【8】</a>时，一个吉拉问题被打开以集成调试Solr选项中的特征提取定时。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-2336da4 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="2336da4" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5a7d52f7 ot-flex-column-vertical" data-id="5a7d52f7" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-7295bccd elementor-widget elementor-widget-iheading" data-id="7295bccd" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// our service</span>
	        <h2 class="main-heading translated">不要脸的塞给我们培训和服务！</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-1d265ed3 elementor-widget elementor-widget-text-editor" data-id="1d265ed3" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">我提到过我们做<a href="https://web.archive.org/web/20221202233445/https://sease.io/learning-to-rank-training">学习排名</a>和<a href="https://web.archive.org/web/20221202233445/https://sease.io/training/apache-solr-training/apache-solr-beginner-training"> Apache Solr初学者</a>培训吗？<br/>我们还提供关于这些主题的咨询，<a href="https://web.archive.org/web/20221202233445/https://sease.io/contacts">如果您想让您的搜索引擎更上一层楼，请联系</a>！</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-df6cbc5 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="df6cbc5" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d71abd9 ot-flex-column-vertical" data-id="d71abd9" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-b5fd1cb elementor-widget elementor-widget-iheading" data-id="b5fd1cb" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// STAY ALWAYS UP TO DATE</span>
	        <h2 class="main-heading translated">订阅我们的时事通讯</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-c03cadf elementor-widget elementor-widget-text-editor" data-id="c03cadf" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">你喜欢这篇关于Apache Solr学习排列特征提取和qTime的文章吗？不要忘记订阅我们的时事通讯，以便随时了解信息检索世界的最新动态！</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-3db4f31 elementor-widget elementor-widget-wp-widget-mc4wp_form_widget" data-id="3db4f31" data-element_type="widget" data-widget_type="wp-widget-mc4wp_form_widget.default">
				<div class="elementor-widget-container">
			<script>(function() {
	window.mc4wp = window.mc4wp || {
		listeners: [],
		forms: {
			on: function(evt, cb) {
				window.mc4wp.listeners.push(
					{
						event   : evt,
						callback: cb
					}
				);
			}
		}
	}
})();
</script><!-- Mailchimp for WordPress v4.8.11 - https://wordpress.org/plugins/mailchimp-for-wp/ --><form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-1343" method="post" data-id="1343" data-name="Sease Mailchimp"><div class="mc4wp-form-fields">
<div class="subscribe-inner-form">
	<input type="email" name="EMAIL" placeholder="Your Email" required=""/>
	<button type="submit" class="subscribe-btn-icon"><i class="flaticon-telegram"/></button>
</div>	

<p class="translated"><label> <input name="AGREE_TO_TERMS" type="checkbox" value="1" required=""/> <a href="https://web.archive.org/web/20221202233445/https://sease.io/privacy-policy" target="_blank">我已经阅读并同意隐私政策</a> </label></p></div><label style="display: none !important;">Leave this field empty if you're human: <input type="text" name="_mc4wp_honeypot" value="" tabindex="-1" autocomplete="off"/></label><input type="hidden" name="_mc4wp_timestamp" value="1670024085"/><input type="hidden" name="_mc4wp_form_id" value="1343"/><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"/><div class="mc4wp-response"/></form><!-- / Mailchimp for WordPress Plugin -->		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
									    
</body>
</html>