<html>
<head>
<title>Query Discovery in RRE Enterprise</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RRE企业查询发现</h1>
<blockquote>原文：<a href="https://web.archive.org/web/sease.io/2022/08/query-discovery-in-rre-enterprise.html#0001-01-01">https://web.archive.org/web/sease.io/2022/08/query-discovery-in-rre-enterprise.html#0001-01-01</a></blockquote>
									<section class="elementor-section elementor-top-section elementor-element elementor-element-0f5d2ec ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="0f5d2ec" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-23f9fcb ot-flex-column-vertical" data-id="23f9fcb" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-252a5f1 elementor-widget elementor-widget-iheading" data-id="252a5f1" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">“入侵者”层的作用</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-5cd5f76 elementor-widget elementor-widget-text-editor" data-id="5cd5f76" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">开源版本的RRE之所以能够非常快速且立即投入使用，其中一个原因是T2与目标搜索引擎的直接沟通。</p><p class="translated">这意味着IDE中的搜索工程师可以使用RRE来绑定和测试一组<strong>评级</strong>，直接指向<strong> Solr </strong>或<strong> Elasticsearch </strong>实例。</p><p class="translated">虽然这对于具体地<strong>提高被测系统的搜索质量</strong>无疑是实用的，但是它引入了一个<strong>强妥协</strong>:在系统中定义的、将被执行来创建搜索质量度量的查询不是“<strong>用户查询</strong>”:它们需要使用本地搜索引擎语言来声明。以下是一个Elasticsearch查询的示例:</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-c1a3378 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="c1a3378" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fbc3eca ot-flex-column-vertical" data-id="fbc3eca" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-b1f982d elementor-widget elementor-widget-html" data-id="b1f982d" data-element_type="widget" data-widget_type="html.default">
				<div class="elementor-widget-container">
			<pre>
{
  "query": {
    "match": {
      "name": {
        "query": "$query",
        "minimum_should_match": "3&lt;-75% 9&lt;-85%"
      }
    }
  }
}
</pre>		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-28d8b06 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="28d8b06" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-96dcc0a ot-flex-column-vertical" data-id="96dcc0a" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-a954502 elementor-widget elementor-widget-text-editor" data-id="a954502" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">同样，这与目标搜索引擎建立了强大而直接的联系，但是……根据我们的经验，这并没有反映出广泛使用/经过验证的三层架构，该架构将系统责任分配给:</p><ul><li class="translated"><strong>客户端应用</strong>:通常是前端层(如AngularJS或ReactJS)</li><li class="translated"><strong>API层</strong>:中间组件(在微服务架构的情况下实际上是一组组件)，负责通过协调和编排内部子系统(例如RDBMS、搜索引擎、NoSQL存储)来隐藏、抽象和实现系统逻辑。</li><li class="translated"><strong>一个“数据源”层</strong>，由一个或多个存储子系统组成。它们中的每一个都管理数据，在某些情况下甚至是相同的数据，用于不同的目的。</li></ul><div><strong>Martin Fowler</strong>, in his famous book <a href="https://web.archive.org/web/20220929232553/https://martinfowler.com/books/eaa.html" target="_blank" rel="noopener">“Patterns of Enterprise Application Architecture”</a> describes that layered architecture as composed of the <strong>Presentation</strong>, the <strong>Domain</strong>, and the <strong>Data Source</strong> layers.</div>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-f3e750e ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="f3e750e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-070f3f0 ot-flex-column-vertical" data-id="070f3f0" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-43546d6 elementor-widget elementor-widget-text-editor" data-id="43546d6" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">回到我们的搜索质量上下文，这意味着在通常的架构中，一个“入侵者”(API层)<strong>在<strong>用户查询</strong>和相应的<strong>搜索引擎查询</strong>之间充当中介</strong>。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-8bf4f16 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="8bf4f16" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-2544166 ot-flex-column-vertical" data-id="2544166" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-9756ca7 elementor-widget elementor-widget-image" data-id="9756ca7" data-element_type="widget" data-widget_type="image.default">
				<div class="elementor-widget-container">
								<div class="elementor-image">
												<img width="1024" height="605" src="../Images/a3f354671213ae580dd5c6ceecae929a.png" class="attachment-large size-large" alt="" loading="lazy" srcset="https://web.archive.org/web/20220929232553im_/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?w=1918&amp;ssl=1 1918w, https://web.archive.org/web/20220929232553im_/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?resize=300%2C177&amp;ssl=1 300w, https://web.archive.org/web/20220929232553im_/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?resize=1024%2C605&amp;ssl=1 1024w, https://web.archive.org/web/20220929232553im_/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?resize=768%2C454&amp;ssl=1 768w, https://web.archive.org/web/20220929232553im_/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?resize=1536%2C908&amp;ssl=1 1536w, https://web.archive.org/web/20220929232553im_/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?resize=720%2C426&amp;ssl=1 720w" sizes="(max-width: 1000px) 100vw, 1000px" data-attachment-id="50084" data-permalink="https://web.archive.org/web/20220929232553/https://sease.io/2022/08/query-discovery-in-rre-enterprise.html/three-tiers-architecture" data-orig-file="https://web.archive.org/web/20220929232553/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?fit=1918%2C1134&amp;ssl=1" data-orig-size="1918,1134" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="three-tiers-architecture" data-image-description="" data-image-caption="" data-medium-file="https://web.archive.org/web/20220929232553/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?fit=300%2C177&amp;ssl=1" data-large-file="https://web.archive.org/web/20220929232553/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?fit=1024%2C605&amp;ssl=1" data-original-src="https://web.archive.org/web/20220929232553im_/https://i0.wp.com/sease.io/wp-content/uploads/2022/07/three-tiers-architecture.png?fit=1024%2C605&amp;ssl=1"/>														</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-2d7a92c ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="2d7a92c" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-0063014 ot-flex-column-vertical" data-id="0063014" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-21517c1 elementor-widget elementor-widget-text-editor" data-id="21517c1" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">API层实现系统逻辑。这意味着从一个请求开始(在这种情况下，让我们简化一下，称之为搜索API请求),有一个业务工作流，它触发涉及几个组件的几个动作。</p><p class="translated">对于搜索引擎，这意味着API层构建并执行特定于搜索引擎的查询，例如考虑ACL、权限过滤器、增强逻辑等等。</p><p class="translated">如果我们想实际测量这样一个系统的搜索质量，抛弃API层所扮演的角色是正确的吗？肯定不是。不幸的是，这正是开源版本的RRE所做的。</p><p class="translated">理想情况下，我希望能够考虑整个系统，包括API层，作为度量的对象。</p><p> </p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-b1af3db ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b1af3db" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6a9a228 ot-flex-column-vertical" data-id="6a9a228" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-2d6d96f elementor-widget elementor-widget-iheading" data-id="2d6d96f" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">RRE企业:查询发现</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-977e029 elementor-widget elementor-widget-text-editor" data-id="977e029" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">RRE企业通过实现查询发现机制来填补上述空白。它是如何工作的？不涉及技术细节，基本思想非常简单:</p><ul><li class="translated">在评估过程中不要考虑表示层</li><li class="translated">将<strong>查询</strong>实体拆分成两个相关的请求:<strong>搜索API请求</strong>和<strong>搜索引擎请求</strong></li><li class="translated"><strong>向搜索API层触发</strong>一个<strong>搜索API请求</strong></li><li class="translated"><strong>捕获</strong>对应的<strong>搜索引擎请求</strong>(在搜索引擎端)</li><li class="translated"><strong>存储</strong>他们之间的<strong>关联</strong></li></ul><div>At the end, a <strong>rating definition</strong> will therefore include all the relevant pieces that contributed to a given <strong>query execution</strong>, including the <strong>Search API request</strong> and the corresponding the <strong>Search Engine requests</strong></div><div> </div><div><strong>RREE</strong> implements the <strong>query</strong> <strong>discovery</strong> described above both in <strong>Apache Solr</strong> and <strong>Elasticsearch</strong>.</div><div> </div><div>The <strong>only assumption required</strong> for a <strong>successful discovery</strong> is to have, during that process, <strong>an exclusive access</strong> to the target search engine.</div><div>As you can imagine, if there is some other process that is using the search engine, it would be very hard in the correlation phase to distinguish between queries executed as consequence of RREE discovery and other applications.    </div>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-db842d0 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="db842d0" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-acf45c6 ot-flex-column-vertical" data-id="acf45c6" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-5fb5b5d elementor-widget elementor-widget-iheading" data-id="5fb5b5d" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">概述</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-fcaff31 elementor-widget elementor-widget-text-editor" data-id="fcaff31" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><strong> RREE查询发现</strong>是<b>评估基础设施</b>的重要组成部分:它允许将<strong>搜索应用作为一个整体</strong>来考虑，因此<b>针对的是</b>一个严格接近真实生产环境的被评估系统。</p><p class="translated">它是通过在评估过程中包含<span style="color: var( --e-global-color-text );"> <b>业务</b></span><span style="color: var( --e-global-color-text ); font-weight: var( --e-global-typography-text-font-weight );"/><span style="color: var( --e-global-color-text );"><b>系统</b> </span> <span style="color: var( --e-global-color-text ); font-weight: var( --e-global-typography-text-font-weight );">逻辑由</span> <span style="color: var( --e-global-color-text );"> <b>中间API层</b> </span> <span style="color: var( --e-global-color-text ); font-weight: var( --e-global-typography-text-font-weight );">来实现的，它们是</span> <span style="color: var( --e-global-color-text );"> <b>搜索应用</b> </span> <span style="color: var( --e-global-color-text ); font-weight: var( --e-global-typography-text-font-weight );">的关键部分。</span>T52</p><p class="translated"><span style="color: var( --e-global-color-text ); font-weight: var( --e-global-typography-text-font-weight );">目的是最大化评估流程输出的“可信度”。</span></p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-18055136 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="18055136" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5b908862 ot-flex-column-vertical" data-id="5b908862" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-459b331 elementor-widget elementor-widget-iheading" data-id="459b331" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// BEGIN YOUR JOURNEY INTO THE SEARCH QUALITY EVALUATION</span>
	        <h2 class="main-heading translated">评级评估企业</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-284f9ce5 elementor-align-center elementor-widget elementor-widget-ibutton" data-id="284f9ce5" data-element_type="widget" data-widget_type="ibutton.default">
				<div class="elementor-widget-container">
					<div class="ot-button">
			<a href="https://web.archive.org/web/20220929232553/https://sease.io/rated-ranking-evaluator-enterprise" class="octf-btn octf-btn-primary">DISCOVER MORE AND DOWNLOAD</a>
	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-731745ad ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="731745ad" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5cd23280 ot-flex-column-vertical" data-id="5cd23280" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-758c7a71 elementor-widget elementor-widget-iheading" data-id="758c7a71" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// STAY ALWAYS UP TO DATE</span>
	        <h2 class="main-heading translated">订阅我们的时事通讯</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-35409a2d elementor-widget elementor-widget-text-editor" data-id="35409a2d" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">你喜欢这篇关于Drop constant features:一个现实世界的学习排名场景的帖子吗？不要忘记订阅我们的时事通讯，以便随时了解信息检索世界的最新动态！</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-47389a9 elementor-widget elementor-widget-wp-widget-mc4wp_form_widget" data-id="47389a9" data-element_type="widget" data-widget_type="wp-widget-mc4wp_form_widget.default">
				<div class="elementor-widget-container">
			<script>(function() {
	window.mc4wp = window.mc4wp || {
		listeners: [],
		forms: {
			on: function(evt, cb) {
				window.mc4wp.listeners.push(
					{
						event   : evt,
						callback: cb
					}
				);
			}
		}
	}
})();
</script><!-- Mailchimp for WordPress v4.8.8 - https://wordpress.org/plugins/mailchimp-for-wp/ --><form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-1343" method="post" data-id="1343" data-name="Sease Mailchimp"><div class="mc4wp-form-fields">
<div class="subscribe-inner-form">
	<input type="email" name="EMAIL" placeholder="Your Email" required=""/>
	<button type="submit" class="subscribe-btn-icon"><i class="flaticon-telegram"/></button>
</div>	

<p class="translated"><label> <input name="AGREE_TO_TERMS" type="checkbox" value="1" required=""/> <a href="https://web.archive.org/web/20220929232553/https://sease.io/privacy-policy" target="_blank">我已经阅读并同意隐私政策</a> </label></p></div><label style="display: none !important;">Leave this field empty if you're human: <input type="text" name="_mc4wp_honeypot" value="" tabindex="-1" autocomplete="off"/></label><input type="hidden" name="_mc4wp_timestamp" value="1664493953"/><input type="hidden" name="_mc4wp_form_id" value="1343"/><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"/><div class="mc4wp-response"/></form><!-- / Mailchimp for WordPress Plugin -->		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
									    
</body>
</html>