<html>
<head>
<title>Tackling Vocabulary Mismatch with Document Expansion</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用文档扩展解决词汇不匹配问题</h1>
<blockquote>原文：<a href="https://web.archive.org/web/sease.io/2022/01/tackling-vocabulary-mismatch-with-document-expansion.html#0001-01-01">https://web.archive.org/web/sease.io/2022/01/tackling-vocabulary-mismatch-with-document-expansion.html#0001-01-01</a></blockquote>
									<section class="elementor-section elementor-top-section elementor-element elementor-element-3307067 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3307067" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-4db3dc8 ot-flex-column-vertical" data-id="4db3dc8" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-eecd3f2 elementor-widget elementor-widget-text-editor" data-id="eecd3f2" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在本系列的上一篇博文中，我们看到了如何使用<a href="https://web.archive.org/web/20221209184622/https://sease.io/2021/12/using-bert-to-improve-search-relevance.html"> BERT通过执行文档重新排序来提高搜索相关性</a>。这种方法的假设是，需要重新排序的文档集，也称为候选，包含与查询相关的最大数量的文档。我们说检索候选项是面向回忆的任务，因为由复杂的基于神经的方法驱动的下一步是负责从最高到最低相关性排序列表的步骤。</p>
<p class="translated"><!-- wp:paragraph -->T3<!-- wp:paragraph -->T5】</p>
<p class="translated">传统的基于倒排索引的方法仍然广泛用于生产系统中执行候选生成，因为这些是特别有效和成熟的技术，使它们在处理数十亿个文档时非常适合缩放。<br/>不幸的是，使用倒排索引有效地执行搜索也意味着受到查询和文档术语之间精确词汇匹配的约束。由于这个原因，这些检索模型无法匹配相关术语，导致了<strong>词汇不匹配问题</strong>。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-ce21834 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="ce21834" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-1c27af8 ot-flex-column-vertical" data-id="1c27af8" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-0bc8260 elementor-widget elementor-widget-iheading" data-id="0bc8260" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">词汇不匹配问题</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-f343934 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="f343934" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-b0a251f ot-flex-column-vertical" data-id="b0a251f" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-eed7515 elementor-widget elementor-widget-text-editor" data-id="eed7515" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">词汇不匹配<a href="https://web.archive.org/web/20221209184622/https://dl.acm.org/doi/10.1145/32206.32212" target="_blank" rel="noreferrer noopener">【1】</a>是当<strong>查询-文档相关性没有被正确估计</strong>时发生的现象，这是由于缺少查询标记到文档中的精确词汇匹配。当用户的意图用不同于相关文档作者所用的词来表达时，就会发生词汇不匹配。</p>
<p class="translated"><!-- wp:paragraph --> <!-- /wp:paragraph --> <!-- wp:paragraph --> <!-- /wp:paragraph --></p>
<p class="translated">词汇不匹配问题的一个非常严重的后果是<strong>它会影响整个检索管道</strong>。与查询没有重叠术语的相关文档将不会被上述候选生成步骤检索到，因此将永远不会被任何下游神经模型评估和重新排序。这导致对于丢失语义相关文档的有效性的显著损失，所述语义相关文档是神经重分类器能够正确排序的，但是相反，词汇系统之前已经过滤掉了。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-90ec8bb ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="90ec8bb" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-eb23655 ot-flex-column-vertical" data-id="eb23655" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-7fa4540 elementor-widget elementor-widget-text-editor" data-id="7fa4540" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><!-- wp:image {"id":44841,"sizeSlug":"large","linkDestination":"none"} --> <!-- /wp:image --></p>
<figure class="wp-block-image size-large"><img data-attachment-id="44841" data-permalink="https://web.archive.org/web/20221209184622/https://sease.io/2022/01/tackling-vocabulary-mismatch-with-document-expansion.html/vocabulary-mismatch" data-orig-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?fit=2507%2C1310&amp;ssl=1" data-orig-size="2507,1310" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Vocabulary-mismatch" data-image-description="" data-image-caption="" data-medium-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?fit=300%2C157&amp;ssl=1" data-large-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?fit=1024%2C535&amp;ssl=1" decoding="async" loading="lazy" width="2507" height="1310" class="wp-image-44841" src="../Images/eb67ae0d4f1c8c6eb4e72cd39e56c056.png" alt="" data-recalc-dims="1" srcset="https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?w=2507&amp;ssl=1 2507w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?resize=300%2C157&amp;ssl=1 300w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?resize=1024%2C535&amp;ssl=1 1024w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?resize=768%2C401&amp;ssl=1 768w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?resize=1536%2C803&amp;ssl=1 1536w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?resize=2048%2C1070&amp;ssl=1 2048w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?resize=720%2C376&amp;ssl=1 720w" sizes="(max-width: 1000px) 100vw, 1000px" data-original-src="https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Vocabulary-mismatch.png?resize=1024%2C535&amp;ssl=1"/></figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-0b8099f ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="0b8099f" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-acb77ba ot-flex-column-vertical" data-id="acb77ba" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-9a65447 elementor-widget elementor-widget-text-editor" data-id="9a65447" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在上图中，我们可以看到词汇不匹配不仅过滤掉了一个相关的文档，而且一个完全不相关的文档根据其与查询的词汇相似性得到了更好的匹配。这是一个非常简单的例子，但是给出了词汇不匹配可能产生的灾难的概念。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-8abbf63 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="8abbf63" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6441d65 ot-flex-column-vertical" data-id="6441d65" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-5af0b96 elementor-widget elementor-widget-iheading" data-id="5af0b96" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">查询扩展</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-8cbf2c3 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="8cbf2c3" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-71849a1 ot-flex-column-vertical" data-id="71849a1" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-8693def elementor-widget elementor-widget-text-editor" data-id="8693def" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">查询扩展是缓解词汇不匹配问题的常用方法。其思想是将查询扩展为包括同义词和语义相关的术语。这是因为用户表达概念的方式不同于它们在语料库中出现的方式。</p>
<p class="translated">虽然，<strong>查询扩展有几个缺点和问题</strong>。首先，它<strong>使得查询成本更高</strong>。运行包含许多术语的查询通常要昂贵得多，并且可能会花费用户认为可接受的太长时间，因此超过了服务延迟限制。</p>
<p class="translated">另一个问题表现为<strong>主题漂移</strong>，即查询主题向非预期方向的变化。导致此问题的原因可能有几个，如错误提取额外的查询词、有偏见的查询词加权方法或有偏见的检索模型。</p>
<p class="translated">最后，查询扩展通常难以正确执行的原因是搜索引擎的平均查询的固有特征。与语料库中的文档相比，查询是很小的术语集，其中<strong>携带很少的上下文</strong>。即使对人类来说，从如此短的文本中推断上下文或找到语义相关的术语也变得非常困难。</p>
<p class="translated">【T8<!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">为了克服或减少这些问题，提出了包含文档集合分析的查询扩展方法。例如，许多方法判断使用未扩展查询检索到的顶部文档，并使用该反馈信息来扩展具有附加术语的查询。这就是所谓的伪相关反馈(PRF)。因此，扩展机制可以依靠额外的较长文本来推断查询的真实含义，但是需要做更多的工作，这使得整个过程更加缓慢。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-205294e ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="205294e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-5d989dc ot-flex-column-vertical" data-id="5d989dc" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-70ac0a1 elementor-widget elementor-widget-iheading" data-id="70ac0a1" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">文档扩展</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-2ac1b26 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="2ac1b26" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-bc8ebfd ot-flex-column-vertical" data-id="bc8ebfd" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-648e81e elementor-widget elementor-widget-text-editor" data-id="648e81e" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">查询扩展的一种替代方法是文档扩展，它重新表达被搜索文档的文本，而不是查询的文本。</p>
<p class="translated">文档扩展，相对于查询扩展，<strong>可能更有益于</strong>。首先，文档通常比查询长得多，因此<strong>为语言模型提供更多的上下文</strong>来选择扩展术语。即使在处理段落或短句时也是如此，因为与一袋关键字相比，语境化的语言模型更好地处理用自然语言编写的文本。</p>
<p class="translated">此外，它<strong>可以脱机</strong>执行，同时索引文档。文档扩展是一个令人尴尬的并行任务，每个文档都可以独立扩展，不依赖于其他文档，允许在多个实例上产生多线程执行。</p>
<p class="translated">最后，用额外的术语或句子扩展文档会转化为倒排索引，其发布列表平均更长。虽然扩展文档也意味着更慢的查询处理，但由于流行的提前终止和查询处理的动态剪枝优化，这种影响比查询扩展情况下要小得多，从而使前者成为更有效的选择。</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph -->T11】</p>
<p class="translated">现代深度学习模型可以帮助执行文档扩展。我们提出了两种最近的方法，它们利用基于<strong>转换器的神经模型来推断与原始文档相关的附加文本</strong>。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-4e82736 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="4e82736" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-0c38ada ot-flex-column-vertical" data-id="0c38ada" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-fcec553 elementor-widget elementor-widget-iheading" data-id="fcec553" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">基于查询的文档扩展</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-aaf1401 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="aaf1401" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-fb71295 ot-flex-column-vertical" data-id="fb71295" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-659ae66 elementor-widget elementor-widget-text-editor" data-id="659ae66" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">第一次尝试使用神经网络进行文档扩展实际上是最近的事情，可以追溯到2019年。Nogueira等人<a href="https://web.archive.org/web/20221209184622/https://arxiv.org/pdf/1904.08375.pdf" target="_blank" rel="noreferrer noopener">【2】</a>提出的方法最初被称为<strong> Doc2Query </strong>，其思想非常简单。模型被训练来学习有可能找到相关文档的查询。基本上，对于每个文档，该模型能够产生一个数量不确定的相关查询的列表。</p>
<p class="translated">用于执行此任务的模型是一个序列到序列模型，使用相关的<strong>查询-文档对的数据集进行训练。</strong> <br/> <strong>通过简单地将</strong>附加在许多生成的查询的末尾来扩展语料库的文档。然后，使用搜索引擎不变的管道正常地对新文档进行索引和查询。该扩展程序可视为额外的预处理步骤，新索引只是<strong>的替代</strong>。</p>
<p class="translated"><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph -->T30】</p>
<p class="translated">随后，Doc2Query工作得到了扩展，用于预测新查询的transformer模型被T5模型取代，T5模型是一种预训练的编码器-解码器模型，对文本生成特别有效。我们把这个优化版的Doc2Query称为<strong> Doc2Query-T5 </strong>或者<strong>doct 5 query</strong><a href="https://web.archive.org/web/20221209184622/https://cs.uwaterloo.ca/~jimmylin/publications/Nogueira_Lin_2019_docTTTTTquery-v2.pdf" target="_blank" rel="noreferrer noopener">【3】</a>。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-213543a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="213543a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-1e6574d ot-flex-column-vertical" data-id="1e6574d" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-5c437cc elementor-widget elementor-widget-text-editor" data-id="5c437cc" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><!-- wp:image {"id":44845,"sizeSlug":"large","linkDestination":"none"} --> <!-- /wp:image --></p>
<figure class="wp-block-image size-large"><img data-attachment-id="44845" data-permalink="https://web.archive.org/web/20221209184622/https://sease.io/2022/01/tackling-vocabulary-mismatch-with-document-expansion.html/dco2query" data-orig-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?fit=3591%2C2368&amp;ssl=1" data-orig-size="3591,2368" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="dco2query" data-image-description="" data-image-caption="" data-medium-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?fit=300%2C198&amp;ssl=1" data-large-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?fit=1024%2C675&amp;ssl=1" decoding="async" loading="lazy" width="3591" height="2368" class="wp-image-44845" src="../Images/ead03745d66eee3ddd48a790d591a25b.png" alt="" data-recalc-dims="1" srcset="https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?w=3591&amp;ssl=1 3591w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?resize=300%2C198&amp;ssl=1 300w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?resize=1024%2C675&amp;ssl=1 1024w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?resize=768%2C506&amp;ssl=1 768w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?resize=1536%2C1013&amp;ssl=1 1536w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?resize=2048%2C1351&amp;ssl=1 2048w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?resize=720%2C475&amp;ssl=1 720w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?w=3000&amp;ssl=1 3000w" sizes="(max-width: 1000px) 100vw, 1000px" data-original-src="https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/dco2query.png?resize=1024%2C675&amp;ssl=1"/></figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-c767d5a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="c767d5a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6764778 ot-flex-column-vertical" data-id="6764778" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-a4b3fa0 elementor-widget elementor-widget-text-editor" data-id="a4b3fa0" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">Doc2Query可以被视为一种双重方法:</p>
<p style="padding-left: 40px;" class="translated">–(<strong>重写</strong>)通过添加已经是文档一部分的术语，它重写了它们的频率。<br/>–(<strong>注入</strong>)此外，它向文档中注入了新的术语，这些术语原本不是文档的一部分。</p>
<p class="translated">在下表中，我们可以看到，相对于标准BM25，这两个组件独立地提高了排名的质量，但是结合使用这两个组件会进一步扩大差距。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-7ad2841 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="7ad2841" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-b86c056 ot-flex-column-vertical" data-id="b86c056" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-737fa76 elementor-widget elementor-widget-text-editor" data-id="737fa76" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<figure class="wp-block-image aligncenter size-large is-resized"><img data-attachment-id="44897" data-permalink="https://web.archive.org/web/20221209184622/https://sease.io/2022/01/tackling-vocabulary-mismatch-with-document-expansion.html/picture1" data-orig-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Picture1.png?fit=1326%2C430&amp;ssl=1" data-orig-size="1326,430" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Picture1" data-image-description="" data-image-caption="" data-medium-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Picture1.png?fit=300%2C97&amp;ssl=1" data-large-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Picture1.png?fit=1024%2C332&amp;ssl=1" decoding="async" loading="lazy" class="wp-image-44897 aligncenter" src="../Images/ae1eb6d4eccd78b9a1d8fbf86b13e640.png" alt="" width="480" height="155" data-recalc-dims="1" srcset="https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Picture1.png?w=1326&amp;ssl=1 1326w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Picture1.png?resize=300%2C97&amp;ssl=1 300w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Picture1.png?resize=1024%2C332&amp;ssl=1 1024w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Picture1.png?resize=768%2C249&amp;ssl=1 768w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Picture1.png?resize=720%2C233&amp;ssl=1 720w" sizes="(max-width: 480px) 100vw, 480px" data-original-src="https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Picture1.png?resize=480%2C155&amp;ssl=1"/></figure>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-b94a91f ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b94a91f" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-e6a8844 ot-flex-column-vertical" data-id="e6a8844" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-d0cb7d1 elementor-widget elementor-widget-iheading" data-id="d0cb7d1" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h6 class="main-heading translated">通过令牌重要性预测的文档扩展</h6>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-7e0cd38 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="7e0cd38" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-aadf4ca ot-flex-column-vertical" data-id="aadf4ca" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-0192ffa elementor-widget elementor-widget-text-editor" data-id="0192ffa" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">Doc2Query并不是利用深度学习来执行文档扩展的唯一方法。</p>
<p class="translated">令牌重要性预测背后的思想很简单。所采用的深度模型将文档作为输入，并输出词汇表上的<strong>令牌似然分布。我们可以说，给定一个文本，它<strong>估计词汇表中更有可能与文档</strong>相关的术语。对于每个文档，我们从词汇表中选择没有出现在原始文档中的顶级术语，并将它们附加到文档的末尾。</strong></p>
<p class="translated">【T9<!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p class="translated">模型架构由一个简单的线性层组成，该层位于一个标准的上下文化模型之上。线性层将768长的CLS令牌嵌入映射到具有相同词汇表长度的向量嵌入中。输出向量的每个值都是一个浮点数，表示相应位置的词汇表检索词的重要性。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-83156f9 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="83156f9" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-0763284 ot-flex-column-vertical" data-id="0763284" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-38ad557 elementor-widget elementor-widget-text-editor" data-id="38ad557" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated"><!-- wp:image {"align":"center","id":44865,"sizeSlug":"large","linkDestination":"none"} --> <!-- /wp:image --></p>
<figure class="wp-block-image aligncenter size-large"><img data-attachment-id="44865" data-permalink="https://web.archive.org/web/20221209184622/https://sease.io/2022/01/tackling-vocabulary-mismatch-with-document-expansion.html/untitled-2021-12-13-1817" data-orig-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?fit=1107%2C2464&amp;ssl=1" data-orig-size="1107,2464" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Untitled-2021-12-13-1817" data-image-description="" data-image-caption="" data-medium-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?fit=135%2C300&amp;ssl=1" data-large-file="https://web.archive.org/web/20221209184622/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?fit=460%2C1024&amp;ssl=1" decoding="async" loading="lazy" width="1107" height="2464" class="wp-image-44865 aligncenter" src="../Images/324b272f9a9f95a93ddc191430a186e8.png" alt="" data-recalc-dims="1" srcset="https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?w=1107&amp;ssl=1 1107w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?resize=135%2C300&amp;ssl=1 135w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?resize=460%2C1024&amp;ssl=1 460w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?resize=768%2C1709&amp;ssl=1 768w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?resize=690%2C1536&amp;ssl=1 690w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?resize=920%2C2048&amp;ssl=1 920w, https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?resize=720%2C1603&amp;ssl=1 720w" sizes="(max-width: 1000px) 100vw, 1000px" data-original-src="https://web.archive.org/web/20221209184622im_/https://i0.wp.com/sease.io/wp-content/uploads/2021/12/Untitled-2021-12-13-1817.png?resize=460%2C1024&amp;ssl=1"/></figure>
<p class="translated">这种方法最初是由庄和祖康在2021年<a href="https://web.archive.org/web/20221209184622/http://ielab.io/publications/pdfs/arvin2021tilde.pdf" target="_blank" rel="noreferrer noopener">【4】</a>提出的，命名为<strong> TILDE </strong>。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-88cbcb7 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="88cbcb7" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-69f238e ot-flex-column-vertical" data-id="69f238e" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-94be33f elementor-widget elementor-widget-iheading" data-id="94be33f" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">履行</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-0b6b905 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="0b6b905" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-ec6d731 ot-flex-column-vertical" data-id="ec6d731" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-b5a772a elementor-widget elementor-widget-text-editor" data-id="b5a772a" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在这一节中，我们将看到如何使用之前微调过的模型对给定文本执行文档扩展。在本节中，我们不会看到如何微调这些模型，而只是如何利用这两篇论文的作者发布的微调模型。然而，实验观察到，这些模型对新数据相当有效，因为它们概括得相当好。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-2c0e106 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="2c0e106" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-273b462 ot-flex-column-vertical" data-id="273b462" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-a4b7375 elementor-widget elementor-widget-iheading" data-id="a4b7375" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">doct 5查询</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-d94273e ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="d94273e" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-74a54cb ot-flex-column-vertical" data-id="74a54cb" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-a1fa881 elementor-widget elementor-widget-text-editor" data-id="a1fa881" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">下面是使用基于T5的Doc2Query方法(也称为DocT5Query)预测给定文档的查询的代码片段。该代码基于<a href="https://web.archive.org/web/20221209184622/https://github.com/huggingface/transformers" data-rich-text-format-boundary="true">拥抱脸变形金刚库</a>中的<strong>t5条件生成</strong>模型。我们还使用了原作者在HuggingFace model hub上发布的官方微调过的<a href="https://web.archive.org/web/20221209184622/https://huggingface.co/castorini/doc2query-t5-base-msmarco">模型</a>。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-7342c9a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="7342c9a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-4144b04 ot-flex-column-vertical" data-id="4144b04" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-df9329d elementor-widget elementor-widget-text-editor" data-id="df9329d" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre>import torch
from transformers import T5Tokenizer, T5ForConditionalGeneration

device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')
tokenizer = T5Tokenizer.from_pretrained('castorini/doc2query-t5-base-msmarco')
model = T5ForConditionalGeneration.from_pretrained('castorini/doc2query-t5-base-
msmarco')
model.eval().to(device)

# we need set how many questions per document we want to predict 
num_queries = 10 

# the document content
document = "..."


input_ids = tokenizer.encode(document, return_tensors='pt').to(device)
learned_queries = model.generate(
             input_ids=input_ids,
             max_length=64,
             do_sample=True,
             num_return_sequences=num_queries)


# we need to decode the predicted token IDs to text
for learned_query in learned_queries:
    tokenizer.decode(learned_query, skip_special_tokens=True)</pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-da6c5b0 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="da6c5b0" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-a426b5d ot-flex-column-vertical" data-id="a426b5d" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-c9ccdd6 elementor-widget elementor-widget-iheading" data-id="c9ccdd6" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">加在西班牙语n字上的发音符号</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-3c3346a ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3c3346a" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-08d93af ot-flex-column-vertical" data-id="08d93af" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-ca7f53f elementor-widget elementor-widget-text-editor" data-id="ca7f53f" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在这段代码中，我们将在标记级别执行预测。代码依赖于来自<a href="https://web.archive.org/web/20221209184622/https://github.com/huggingface/transformers">拥抱脸变形金刚库</a>的<strong> BertLMHeadModel </strong>。我们还使用了原作者在HuggingFace模型中心发布的官方微调过的<a href="https://web.archive.org/web/20221209184622/https://huggingface.co/ielab/TILDE">模型</a>。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-9d6b1d3 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="9d6b1d3" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-55ce6a3 ot-flex-column-vertical" data-id="55ce6a3" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-25c1afd elementor-widget elementor-widget-text-editor" data-id="25c1afd" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<pre>import torch
from transformers import BertLMHeadModel, BertTokenizer
import numpy as np 

device = torch.device('cuda' if torch.cuda.is_available() else 'cpu')
model = BertLMHeadModel.from_pretrained("ielab/TILDE")
tokenizer = BertTokenizer.from_pretrained('bert-base-uncased')
model.eval().to(device)

# we need set how many terms per document we want to predict 
num_terms = 100 

# the document content
document = "..."
encode = tokenizer(document, return_tensors='pt').to(device)

with torch.no_grad():
      logits = model(**encode, return_dict=True).logits[:, 0]
      batch_selected = torch.topk(logits, num_terms).indices.cpu().numpy()

for i, selected in enumerate(batch_selected):
      expand_term_ids = np.setdiff1d(selected, encode.input_ids.cpu().numpy()[i], 
assume_unique=True)
      expand_terms = tokenizer.decode(selected)</pre>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-24e0410 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="24e0410" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-6ea7ae2 ot-flex-column-vertical" data-id="6ea7ae2" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-7905c74 elementor-widget elementor-widget-iheading" data-id="7905c74" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        <h2 class="main-heading translated">摘要</h2>	    </div>
	    		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-eda1fd9 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="eda1fd9" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-167d088 ot-flex-column-vertical" data-id="167d088" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-d5a4ae5 elementor-widget elementor-widget-text-editor" data-id="d5a4ae5" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">在这篇博客文章中，我们看到了如何使用两种基于transformer的方法来利用文档扩展<strong>减少词汇不匹配</strong>。特别是，我们研究了相关查询生成机制和基于令牌的扩展方法。</p>
<p class="translated">我们已经看到了如何通过使用这两种方法的原始作者发布的微调模型来执行附加内容的推断。显然，<strong>对你自己的数据进行微调可以让你更好地利用这些模型的力量</strong>，因此我们建议花一些时间收集训练数据。如果你想知道更多关于文档扩展的信息，请联系<a href="https://web.archive.org/web/20221209184622/https://sease.io/contacts" target="_blank" rel="noreferrer noopener">。</a></p>
<p class="translated"><!-- wp:paragraph -->T13<!-- wp:paragraph -->T15<!-- wp:paragraph -->T17】</p>
<p class="translated">最后，如果你有兴趣听到更多关于深度学习在搜索中的应用，请继续关注我们的下一集，学习传统倒排索引的排名函数。</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-4d45f1e3 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="4d45f1e3" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-35ca233d ot-flex-column-vertical" data-id="35ca233d" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-6f1b4370 elementor-widget elementor-widget-iheading" data-id="6f1b4370" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// our service</span>
	        <h2 class="main-heading translated">不要脸的塞给我们培训和服务！</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-5dc93887 elementor-widget elementor-widget-text-editor" data-id="5dc93887" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">我有没有提到我们在搜索培训中做<a href="https://web.archive.org/web/20221209184622/https://sease.io/learning-to-rank-training">学习排名</a>和<a href="https://web.archive.org/web/20221209184622/https://sease.io/artificial-intelligence-in-search-training">人工智能？<br/>我们也提供这些话题的咨询，</a><a href="https://web.archive.org/web/20221209184622/https://sease.io/contacts">如果你想借助人工智能的力量让你的搜索引擎更上一层楼，请联系</a>！</p>					</div>
						</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
				<section class="elementor-section elementor-top-section elementor-element elementor-element-3a1d31e4 ot-traditional elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="3a1d31e4" data-element_type="section">
						<div class="elementor-container elementor-column-gap-default">
							<div class="elementor-row">
					<div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-43314d7f ot-flex-column-vertical" data-id="43314d7f" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
							<div class="elementor-widget-wrap">
						<div class="elementor-element elementor-element-15834929 elementor-widget elementor-widget-iheading" data-id="15834929" data-element_type="widget" data-widget_type="iheading.default">
				<div class="elementor-widget-container">
					<div class="ot-heading">
	        	            <span>// STAY ALWAYS UP TO DATE</span>
	        <h2 class="main-heading translated">订阅我们的时事通讯</h2>	    </div>
	    		</div>
				</div>
				<div class="elementor-element elementor-element-54c23e12 elementor-widget elementor-widget-text-editor" data-id="54c23e12" data-element_type="widget" data-widget_type="text-editor.default">
				<div class="elementor-widget-container">
								<div class="elementor-text-editor elementor-clearfix">
				<p class="translated">你喜欢这个关于词汇不匹配问题的帖子吗？不要忘记订阅我们的时事通讯，以便随时了解信息检索世界的最新动态！</p>					</div>
						</div>
				</div>
				<div class="elementor-element elementor-element-3062587 elementor-widget elementor-widget-wp-widget-mc4wp_form_widget" data-id="3062587" data-element_type="widget" data-widget_type="wp-widget-mc4wp_form_widget.default">
				<div class="elementor-widget-container">
			<script>(function() {
	window.mc4wp = window.mc4wp || {
		listeners: [],
		forms: {
			on: function(evt, cb) {
				window.mc4wp.listeners.push(
					{
						event   : evt,
						callback: cb
					}
				);
			}
		}
	}
})();
</script><!-- Mailchimp for WordPress v4.8.11 - https://wordpress.org/plugins/mailchimp-for-wp/ --><form id="mc4wp-form-1" class="mc4wp-form mc4wp-form-1343" method="post" data-id="1343" data-name="Sease Mailchimp"><div class="mc4wp-form-fields">
<div class="subscribe-inner-form">
	<input type="email" name="EMAIL" placeholder="Your Email" required=""/>
	<button type="submit" class="subscribe-btn-icon"><i class="flaticon-telegram"/></button>
</div>	

<p class="translated"><label> <input name="AGREE_TO_TERMS" type="checkbox" value="1" required=""/> <a href="https://web.archive.org/web/20221209184622/https://sease.io/privacy-policy" target="_blank">我已经阅读并同意隐私政策</a> </label></p></div><label style="display: none !important;">Leave this field empty if you're human: <input type="text" name="_mc4wp_honeypot" value="" tabindex="-1" autocomplete="off"/></label><input type="hidden" name="_mc4wp_timestamp" value="1670611583"/><input type="hidden" name="_mc4wp_form_id" value="1343"/><input type="hidden" name="_mc4wp_form_element_id" value="mc4wp-form-1"/><div class="mc4wp-response"/></form><!-- / Mailchimp for WordPress Plugin -->		</div>
				</div>
						</div>
					</div>
		</div>
								</div>
					</div>
		</section>
									    
</body>
</html>